(function(){"use strict";var e={673:function(e,t,n){var r=n(4367),a=n(6198),i=(n(6992),n(8674),n(9601),n(7727),n(5666),n(7941),n(538)),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("trame-connect",{attrs:{"use-url":"","forward-errors":""}},[n("trame-server-template",{attrs:{"use-url":""}})],1)},o=[],u=function(){var e=this,t=e.$createElement;e._self._c;return e.ready?e._t("default"):e._e()},c=[],l=(n(8309),n(9600),n(2222),n(5200)),f=(n(6699),n(2023),n(1539),n(8783),n(3948),n(285),n(1637),n(9714),n(9720),n(4916),n(5306),n(8757),n(7807)),p=n(8923),m=n(8238),h=function(e){return{getArray:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.call("viewport.geometry.array.get",[t,n])},getViewState:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.call("viewport.geometry.view.get.state",[t,n])},addViewObserver:function(t){return e.call("viewport.geometry.view.observer.add",[t])},removeViewObserver:function(t){return e.call("viewport.geometry.view.observer.remove",[t])},subscribeToViewChange:function(t){return e.subscribe("viewport.geometry.view.subscription",t)},unsubscribe:function(t){return e.unsubscribe(t)}}},d=function(e){return{lifeCycleUpdate:function(t){return e.call("trame.lifecycle.update",[t])},sendError:function(t){return e.call("trame.error.client",[t])},getState:function(){return e.call("trame.state.get",[])},trigger:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.call("trame.trigger",[t,n,r])},updateState:function(t){return e.call("trame.state.update",[t])},subscribeToStateUpdate:function(t){return e.subscribe("trame.state.topic",t)},subscribeToActions:function(t){return e.subscribe("trame.actions.topic",t)},unsubscribe:function(t){return e.unsubscribe(t)}}},v={SyncView:h,Trame:d};m.ZP.setSmartConnectClass(p.ZP);var g={},y={"http:":"ws:","https:":"wss:","ws:":"ws:","wss:":"wss:"},b=["unsubscribe","subscribeToViewChange","subscribeToStateUpdate","subscribeToActions","subscribeToViewChange"];function w(e){var t=(0,r.Z)({},e);if(t.sessionURL){var n=t.sessionURL,a=window.location;if(n.includes("USE_")){var i=new URL(n);i.protocol=y[a.protocol],n=i.toString()}for(var s={USE_HOSTNAME:a.hostname,USE_HOST:a.host},o=0,u=Object.entries(s);o<u.length;o++){var c=(0,l.Z)(u[o],2),p=c[0],m=c[1];n=n.replaceAll(p,m)}t.sessionURL=n}return t.application=document.querySelector("html").dataset.appName||t.application,t.useUrl?(0,r.Z)((0,r.Z)({},t),f.Z.extractURLParameters()):t}function T(){return m.ZP.newInstance({protocols:v,configDecorator:w,notBusyList:b})}function _(e){var t,n=null===(t=g[e])||void 0===t?void 0:t.client;if(!n){n=T();var r=[],a={type:"created",message:"Client connected..."};function i(t){g[e].status=t}g[e]={client:n,status:a,subscriptions:r},r.push(n.onConnectionError((function(e){var t;i({type:"Connection error",message:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.error})}))),r.push(n.onConnectionClose((function(e){var t;i({type:"Connection close",message:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.error})})))}return n}function x(e){return g[e].status}var S={getClient:_,getStatus:x,configDecorator:w},C=n(8932),k=n(6133),R=n(2751),Z=(n(4747),n(1249),n(2479),n(189),n(8862),n(7327),n(9274)),$=n(7117),O=(n(2707),{});function E(e,t){return e.priority-t.priority}function A(e){O.addAttachement=e}var U={priority:0,decorate:function(e){return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r,a,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e&&void 0!==e){t.next=2;break}return t.abrupt("return",e);case 2:if(!e.constructor||e.constructor!==File){t.next=9;break}return n=e.name,r=e.lastModified,a=e.size,i=e.type,t.next=6,e.arrayBuffer();case 6:return s=t.sent,o=O.addAttachement(s),t.abrupt("return",{name:n,lastModified:r,size:a,type:i,content:o,_filter:["content"]});case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})))()}},j={priority:0,decorate:function(e){return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e&&void 0!==e){t.next=2;break}return t.abrupt("return",e);case 2:if("string"!==typeof e){t.next=4;break}return t.abrupt("return",e);case 4:if(!(e.constructor&&e.constructor===FileList||e.length)){t.next=17;break}n=[],r=0;case 7:if(!(r<e.length)){t.next=16;break}return t.t0=n,t.next=11,U.decorate(e[r]);case 11:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 13:r++,t.next=7;break;case 16:return t.abrupt("return",n);case 17:return t.abrupt("return",e);case 18:case"end":return t.stop()}}),t)})))()}},L={priority:0,decorate:function(e){return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e&&void 0!==e){t.next=2;break}return t.abrupt("return",e);case 2:if("string"!==typeof e){t.next=4;break}return t.abrupt("return",e);case 4:if(!e.constructor||e.constructor!==Object){t.next=21;break}n={},r=Object.keys(e),a=0;case 8:if(!(a<r.length)){t.next=20;break}return i=r[a],n[i]=e[i],t.next=13,j.decorate(n[i]);case 13:return n[i]=t.sent,t.next=16,U.decorate(n[i]);case 16:n[i]=t.sent;case 17:a++,t.next=8;break;case 20:return t.abrupt("return",n);case 21:return t.abrupt("return",e);case 22:case"end":return t.stop()}}),t)})))()}},D=[U,j,L];function N(e){D.push(e),D.sort(E)}function M(e){return I.apply(this,arguments)}function I(){return I=(0,a.Z)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,r=0;case 2:if(!(r<D.length)){e.next=11;break}if(null!==n&&void 0!==n){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,D[r].decorate(n);case 7:n=e.sent;case 8:r++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}n(3123);function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream",r=new Blob([t],{type:n}),a=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout((function(){return URL.revokeObjectURL(a)}),1e3)}function V(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=t,r=e.split("."),a=0;a<r.length;a++)n=n[r[a]];return n}var B={download:P,get:V};function K(e){var t={tts:0};return e.forEach((function(e){t[e]=0})),new i.Z({data:t})}function z(e,t){function n(e){for(var n=0;n<e.length;n++)t[e[n]]++}return e.$on("stateChange",n),function(){e.$off("stateChange",n)}}function F(e,t,n){var r={};return t.forEach((function(t){r[t]={get:function(){return n[t],e.state.get(t)},set:function(n){e.state.set(t,n)}}})),r}var H={},q={};function J(e,t){return G.apply(this,arguments)}function G(){return G=(0,a.Z)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=7;break}return e.next=4,n(t[r]);case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function Q(e,t){for(var n=[],r={},a=0;a<e.length;a++){var i=n,s=e[a];if(Array.isArray(s)){var o=s[1].serial;o&&(r[o]||(r[o]=[]),i=r[o]);var u=s,c=(0,l.Z)(u,1);s=c[0]}i.push(s)}for(var f=n.map(t),p=Object.values(r),m=0;m<p.length;m++)f.push(J(p[m],t));return Promise.all(f)}function W(e,t){return X.apply(this,arguments)}function X(){return X=(0,a.Z)(regeneratorRuntime.mark((function e(t,n){var r,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:[],a=function(e){return!r.includes(e)},!t.includes("trame__styles")){e.next=5;break}return e.next=5,Q(n.trame__styles.filter(a),Z.j);case 5:if(!t.includes("trame__scripts")){e.next=8;break}return e.next=8,Q(n.trame__scripts.filter(a),Z.ve);case 8:t.includes("trame__vue_use")&&n.trame__vue_use.forEach((function(e){var t=e,n={};if(Array.isArray(e)){var a=(0,l.Z)(e,2);t=a[0],n=a[1]}var s=B.get(t);s?q[t]||r.includes(t)||(q[t]=!0,s.default&&(s=s.default),console.info("Vue.use(".concat(t,", ").concat(JSON.stringify(n),") - ").concat(!!s," - install(").concat(!!s.install,")")),s.install?(i.Z.use(s,n),s.getOptions&&Object.assign(H,s.getOptions())):i.Z.use({install:s},n)):console.error("Lookup error: Vue.use(".concat(t,", ").concat(JSON.stringify(n),")"))})),t.includes("trame__favicon")&&n.trame__favicon&&(document.querySelector("link[rel=icon]").href=n.trame__favicon),t.includes("trame__title")&&n.trame__title&&(document.title=n.trame__title);case 11:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}var Y=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,k.Z)(this,e),this.name="Default trame application",this.vueInstance=t,this.client=(null===t||void 0===t?void 0:t.client)||r,this.exclude=(null===t||void 0===t?void 0:t.exclude)||i,this.subscriptions=[],this.state={},this.keyTS={},this.ts=0,this.trameTemplateTS=0,this.trameTemplate={template:"<div>Too early for trame template</div>"},this.dirtyKeys=new Set,this.registerDecorator=N;var s=function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(t){var r,a,i,s,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=Object.keys(t),Object.assign(n.state,t),n.ts+=1,a=0,i=0;i<r.length;i++)s=r[i],void 0===n.keyTS[s]&&a++,n.keyTS[s]=n.ts;return e.next=7,W(r,n.state,n.exclude);case 7:a&&(n.updateTrameTemplate(),n.vueInstance&&n.vueInstance.$emit("trameTemplateChange",n.trameTemplateTS)),n.vueInstance&&(n.vueInstance.$emit("stateChange",r),n.vueInstance.$router&&null!==t&&void 0!==t&&null!==(o=t.trame__routes)&&void 0!==o&&o.length&&(u=n.vueInstance.$router,t.trame__routes.forEach((function(e){u.addRoute(e)}))));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();this.subscriptions.push(this.client.getRemote().Trame.subscribeToStateUpdate((function(e){var t=(0,l.Z)(e,1),n=t[0];return s(n)}))),this.client.getRemote().Trame.getState().then((function(e){var r=e.state,a=e.name;n.name=a,s(r),t&&(t.ready=!0)})),this._updateFromServer=s}return(0,R.Z)(e,[{key:"updateTrameTemplate",value:function(){if(this.vueInstance){this.trameTemplateTS+=1;var e=Object.keys(this.state),t=K(e),n=z(this.vueInstance,t),i=F(this.vueInstance,e,t),s=0;this.trameTemplate={name:"TrameTemplate",inject:["trame"],props:{templateName:{type:String,default:"main"}},components:{VRuntimeTemplate:$.Z},computed:(0,r.Z)((0,r.Z)({},i),{},{contentTemplate:function(){var e="trame__template_".concat(this.templateName);return this[e]||"<div>No state variable for ".concat(e," with the following state.<br><pre>").concat(JSON.stringify(this.trame.state.get(),null,2),"</pre></div>")},tts:function(){return t.tts}}),watch:{contentTemplate:function(){setTimeout((function(){return t.tts+=1}),10)}},methods:{set:function(e,t){return this.trame.state.set(e,t)},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.trame.state.get(e)},setAll:function(e){return this.trame.state.update(e)},flushState:function(){var e;return(e=this.trame.state).flush.apply(e,arguments)},registerDecorator:function(){var e;return(e=this.trame.state).registerDecorator.apply(e,arguments)},trigger:function(e){var t=arguments,n=this;return(0,a.Z)(regeneratorRuntime.mark((function r(){var a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:[],i=t.length>2&&void 0!==t[2]?t[2]:{},r.next=4,n.trame.client.getRemote().Trame.trigger(e,a,i);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()},getRef:function(e){var t=this.$refs.trameTemplateRootRef;return t.$refs&&t.$refs[e]?t.$refs[e]:t.$children[0].$refs[e]},execAction:function(e){var t=e.ref,n=e.type,r=this.getRef(t);if(r&&"method"===n){var a=e.method,i=e.args;r[a].apply(r,(0,C.Z)(i))}if(r&&"property"===n){var s=e.property,o=e.value;r[s]=o}}},created:function(){var e=this;s++,this.utils=B,this.onActions=function(t){for(var n=(0,l.Z)(t,1),r=n[0],a=0;a<r.length;a++)e.execAction(r[a])},this.clientSub=this.trame.client.getRemote().Trame.subscribeToActions(this.onActions)},beforeDestroy:function(){s--,0===s&&n(),this.trame.client.getRemote().Trame.unsubscribe(this.clientSub)},template:'<v-runtime-template ref="trameTemplateRootRef" :template="contentTemplate" />'}}}},{key:"delete",value:function(){while(this.subscriptions.length)this.client.getRemote().Trame.unsubscribe(this.subscriptions.pop())}},{key:"get",value:function(e){return void 0===e?this.state:this.state[e]}},{key:"getTimeStamp",value:function(e){return this.keyTS[e]||0}},{key:"set",value:function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.ts+=1,this.state[t]=n,this.keyTS[t]=this.ts,this.dirty(t),e.next=6,this.flush();case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(t){var n,r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(this.ts+=1,n=0,r=Object.entries(t);n<r.length;n++)a=(0,l.Z)(r[n],2),i=a[0],s=a[1],this.state[i]=s,this.keyTS[i]=this.ts,this.dirty(i);return e.next=4,this.flush();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"canDirty",value:function(e){return!this.state.trame__client_only.includes(e)}},{key:"dirty",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.canDirty(t)?e.dirtyKeys.add(t):e.vueInstance&&e.vueInstance.$emit("stateChange",[t])}))}},{key:"flush",value:function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(){var t,n,r,a,i,s,o,u=this,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=c.length,n=new Array(t),r=0;r<t;r++)n[r]=c[r];if(n.length&&n.forEach((function(e){Array.isArray(e)?u.dirty.apply(u,(0,C.Z)(e)):u.dirty(e)})),!this.dirtyKeys.size||this.client.isBusy()){e.next=13;break}return a=[],i=[],this.dirtyKeys.forEach((function(e){a.push(M(u.state[e])),i.push(e)})),this.dirtyKeys.clear(),e.next=9,Promise.all(a);case 9:return s=e.sent,o=i.map((function(e,t){return{key:e,value:s[t]}})),e.next=13,this.client.getRemote().Trame.updateState(o);case 13:this.vueInstance&&!this.vueInstance.connected&&this._updateFromServer(this.state);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),ee={name:"TrameConnect",props:{name:{type:String,default:"TrameConnect"},config:{type:Object,default:function(){return{application:"trame"}}},exclude:{type:Array,default:function(){return[]}},useUrl:{type:Boolean,default:!1},forwardErrors:{type:Boolean,default:!1}},data:function(){return{ready:!1,connected:!1,busy:1,status:{type:"created",message:"Connecting..."}}},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.subscriptions=[],e.client=S.getClient(e.name),e.subscriptions.push(e.client.onBusyChange((function(t){var n=!t!==!e.busy;e.busy=t,n&&e.state&&e.state.set("trame__busy",t),0===t&&e.state.flush(),n&&e.$emit("busyChange",t)}))),e.subscriptions.push(e.client.onConnectionError((function(t){var n,r;e.connected=!1,e.status={type:"Connection error",message:null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.error},e.reportError((null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.error)||"Connection error"),e.$emit("statusChange",e.status)}))),e.subscriptions.push(e.client.onConnectionClose((function(t){var n,r;e.connected=!1,e.status={type:"Connection close",message:null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.error},e.reportError((null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.error)||"Connection close"),e.$emit("statusChange",e.status)}))),!e.client.isConnected()){t.next=10;break}e.status=S.getStatus(e.name),e.$emit("statusChange",e.status),t.next=14;break;case 10:return t.next=12,e.client.connect(S.configDecorator((0,r.Z)((0,r.Z)({},e.config),{},{useUrl:e.useUrl})));case 12:A(e.client.getConnection().getSession().addAttachment),e.status={type:"Connected"};case 14:e.connected=e.client.isConnected(),e.busy=e.client.isBusy(),e.$emit("statusChange",e.status),e.connected&&(e.state=new Y(e)),e.client.getRemote().Trame.lifeCycleUpdate("client_connected"),window.addEventListener("beforeunload",(function(){return e.client.getRemote().Trame.lifeCycleUpdate("client_exited")})),e.forwardErrors&&(n=console.error,console.error=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];try{e.client.getRemote().Trame.sendError(r.join(" "))}catch(i){n(i)}finally{n.apply(void 0,r)}},window.addEventListener("error",(function(e){console.error("".concat(e.type,": ").concat(e.message))})));case 21:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.client.getRemote().Trame.lifeCycleUpdate("client_unmounted");while(this.subscriptions.length)this.subscriptions.pop().unsubscribe();this.state&&(this.state.delete(),this.state=null)},methods:{reportError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something unexpected happened...";this.state.set("trame__template_main",'<trame-loading message="'.concat(e,'"/>'))}},provide:function(){return{trame:this}}},te=ee,ne=n(1001),re=(0,ne.Z)(te,u,c,!1,null,null,null),ae=re.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("trame-template",{key:e.trameTemplateTS,attrs:{templateName:e.tName}})},se=[],oe={name:"TrameServerTemplate",inject:["trame"],props:{templateName:{type:String,default:"main"},urlKey:{type:String,default:"ui"},useUrl:{type:Boolean,default:!1}},data:function(){return{trameTemplateTS:0}},computed:{tName:function(){return this.useUrl&&f.Z.extractURLParameters()[this.urlKey]?f.Z.extractURLParameters()[this.urlKey]:this.templateName}},created:function(){var e=this;this.onNewTemplate=function(){e.$options.components.trameTemplate=e.trame.state.trameTemplate,e.trameTemplateTS=e.trame.state.trameTemplateTS},this.trame.$on("trameTemplateChange",this.onNewTemplate),this.onNewTemplate()},beforeDestroy:function(){this.trame.$off("trameTemplateChange",this.onNewTemplate)}},ue=oe,ce=(0,ne.Z)(ue,ie,se,!1,null,null,null),le=ce.exports,fe={name:"App",components:{TrameConnect:ae,TrameServerTemplate:le}},pe=fe,me=(0,ne.Z)(pe,s,o,!1,null,null,null),he=me.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"none"}})},ve=[],ge={name:"TrameClientStateChange",props:{value:{type:String,default:""}},watch:{value:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))}}},ye=ge,be=(0,ne.Z)(ye,de,ve,!1,null,null,null),we=be.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"none"}})},_e=[],xe={name:"TrameClientTriggers",methods:{emit:function(e,t){this.$emit(e,t)}},created:function(){this.emit("created")},mounted:function(){this.emit("mounted")},beforeDestroy:function(){this.emit("beforeDestroy"),this.emit("beforeUnmount")}},Se=xe,Ce=(0,ne.Z)(Se,Te,_e,!1,null,null,null),ke=Ce.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},Ze=[],$e={name:"TrameLifeCycleMonitor",props:{name:{type:String,default:"TrameLifeCycleMonitor"},type:{type:String,default:"log"},value:{type:String,default:"value"},events:{type:Array,default:function(){return["created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed"]}}},created:function(){this.events.includes("created")&&console[this.type](this.name,"created(".concat(this._uid,")"),this.value)},beforeMount:function(){this.events.includes("beforeMount")&&console[this.type](this.name,"beforeMount(".concat(this._uid,")"),this.value)},mounted:function(){this.events.includes("mounted")&&console[this.type](this.name,"mounted(".concat(this._uid,")"),this.value)},beforeUpdate:function(){this.events.includes("beforeUpdate")&&console[this.type](this.name,"beforeUpdate(".concat(this._uid,")"),this.value)},updated:function(){this.events.includes("updated")&&console[this.type](this.name,"updated(".concat(this._uid,")"),this.value)},beforeDestroy:function(){this.events.includes("beforeDestroy")&&console[this.type](this.name,"beforeDestroy(".concat(this._uid,")"),this.value)},destroyed:function(){this.events.includes("destroyed")&&console[this.type](this.name,"destroyed(".concat(this._uid,")"),this.value)}},Oe=$e,Ee=(0,ne.Z)(Oe,Re,Ze,!1,null,null,null),Ae=Ee.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.container},[n("div",{class:e.$style.loader}),n("div",{class:e.$style.message},[e._v(" "+e._s(e.message)+" ")])])},je=[],Le={name:"Loading",props:{message:{type:String,default:"Loading..."}}},De=Le,Ne={container:"style_container_VCsHx",loader:"style_loader_CNsNi",spin:"style_spin_BAaPb",message:"style_message_rmggO"};function Me(e){this["$style"]=Ne.locals||Ne}var Ie,Pe,Ve=(0,ne.Z)(De,Ue,je,!1,Me,null,null),Be=Ve.exports,Ke=n(2441),ze=n.n(Ke),Fe={name:"TrameMouseTrap",inject:["trame"],props:{mapping:{type:Array}},created:function(){this.processMapping()},beforeDestroy:function(){ze().reset()},watch:{mapping:function(){this.processMapping()}},methods:{processMapping:function(){var e=this;this.mapping&&(ze().reset(),this.mapping.forEach((function(t){var n=t.keys,r=t.event,a=t.stop,i=t.listen;ze().bind(n,(function(t){if(e.$emit(r,t),a)return!1}),i)})))},bind:function(){ze().bind.apply(ze(),arguments)},unbind:function(e){ze().unbind(e)},trigger:function(e){ze().trigger(e)},addKeycodes:function(){ze().trigger.apply(ze(),arguments)}}},He=Fe,qe=(0,ne.Z)(He,Ie,Pe,!1,null,null,null),Je=qe.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{overflow:"hidden",position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"}},[e._t("default")],2)},Qe=[],We={name:"TrameSizeObserver",props:{name:{type:String}},created:function(){var e=this;this.observer=new ResizeObserver((function(){if(e.$el){var t=e.$el.getBoundingClientRect(),n=window.devicePixelRatio,r=96*n,a={size:t,pixelRatio:n,dpi:r};e.name&&(a.name=e.name),e.set&&e.set(e.name,a),e.$emit("change",a)}}))},mounted:function(){this.observer.observe(this.$el)},beforeUnmount:function(){this.observer.unobserve(this.$el)},inject:["set"]},Xe=We,Ye=(0,ne.Z)(Xe,Ge,Qe,!1,null,null,null),et=Ye.exports,tt=function(){var e=this,t=e.$createElement;e._self._c;return e._t("default",null,null,e.state)},nt=[];function rt(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;a++)e[n[a]]=null;return e}function at(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(n){for(var a=e.state,i=new Set(n),s=0;s<r.length;s++){var o=r[s];i.has(o)&&(t[o]=a.get(o))}}}var it={inject:["trame"],name:"TrameStateResolver",props:{names:{type:Array,default:function(){return[]}}},data:function(){return rt.apply(void 0,(0,C.Z)(this.names))},computed:{state:function(){for(var e=this,t={trame:this.trame,set:function(){var t;return(t=e.trame.state).set.apply(t,arguments)}},n=0;n<this.names.length;n++){var r=this.names[n];t[r]=this[r]}return t}},created:function(){this.onStateChange=at.apply(void 0,[this.trame,this].concat((0,C.Z)(this.names))),this.trame.$on("stateChange",this.onStateChange),this.onStateChange(this.names)},beforeDestroy:function(){this.trame.$off("stateChange",this.onStateChange)},provide:function(){return{state:this}}},st=it,ot=(0,ne.Z)(st,tt,nt,!1,null,null,null),ut=ot.exports,ct={TrameApp:he,TrameClientStateChange:we,TrameClientTriggers:ke,TrameConnect:ae,TrameLifeCycleMonitor:Ae,TrameLoading:Be,TrameMouseTrap:Je,TrameServerTemplate:le,TrameSizeObserver:et,TrameStateResolver:ut},lt={install:function(e){Object.keys(ct).forEach((function(t){e.component(t,ct[t])}))}},ft="TrameConnect";function pt(){var e=S.getStatus(ft),t=document.querySelector(".trame__message");t&&(t.innerHTML=e.message||e.type)}function mt(e){return ht.apply(this,arguments)}function ht(){return ht=(0,a.Z)(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.Vue=t,t.use(lt),n=S.getClient(ft),e.prev=3,e.next=6,n.connect(S.configDecorator({application:"trame",useUrl:!0}));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e["catch"](3),pt(),e.abrupt("return");case 12:return n.onConnectionError(pt),n.onConnectionClose(pt),A(n.getConnection().getSession().addAttachment),e.next=17,n.getRemote().Trame.getState();case 17:return a=e.sent,i=a.state,e.next=21,W(Object.keys(i),i);case 21:new t((0,r.Z)((0,r.Z)({},H),{},{render:function(e){return e(he)}})).$mount("#app");case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),ht.apply(this,arguments)}mt(i.Z)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,i){if(!r){var s=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],i=e[l][2];for(var o=!0,u=0;u<r.length;u++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(o=!1,i<s&&(s=i));if(o){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,s=r[0],o=r[1],u=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(u)var l=u(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self["webpackChunktrame_components"]=self["webpackChunktrame_components"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(673)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.f024d728.js.map