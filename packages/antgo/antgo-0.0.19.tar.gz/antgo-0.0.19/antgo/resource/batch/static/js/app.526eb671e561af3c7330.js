webpackJsonp([1],{"1DRq":function(t,a){},"9B6r":function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),n=e("mvHQ"),i=e.n(n),r={name:"ExperimentResults",data:function(){return{dataset:[],sample_num_in_dataset:{},page_index_list:[],page_content:[],current_page_index:0,current_dataset:"",tags:[],is_spider:!1,spider_source:"BAIDU",spider_source_list:["BAIDU","BING"],spider_keyword:"",waiting_process_num:0,finished_process_num:0}},mounted:function(){var t=this;this.$axios.get(this.BASE_URL+"/batch-api/entry/",{params:{}}).then(function(a){var e=a.data.content;t.dataset=e.dataset_name,t.page_index_list=[];for(var s=0;s<e.page_num;++s)t.page_index_list.push(s);t.page_content=e.result_list,t.current_page_index=0,t.sample_num_in_dataset=e.sample_num_in_dataset,t.current_dataset=e.current_dataset_name,t.tags=e.tags,t.waiting_process_num=e.waiting,t.finished_process_num=e.finished,t.spider_source=e.spider,console.log(t.current_dataset)})},methods:{triggerPage:function(t){var a=this;this.$axios.get(this.BASE_URL+"/batch-api/page/",{params:{dataset_name:a.current_dataset,page_index:t}}).then(function(e){a.page_content=e.data.content.result_list,a.current_page_index=t,a.waiting_process_num=response_content.waiting,a.finished_process_num=response_content.finished,console.log("Switch to page "+t)})},triggerDataset:function(t){var a=this;this.$axios.get(this.BASE_URL+"/batch-api/entry/",{params:{dataset_name:t}}).then(function(e){a.dataset=e.data.content.dataset_name,a.page_index_list=[];for(var s=0;s<e.data.content.page_num;++s)a.page_index_list.push(s);a.page_content=e.data.content.result_list,a.current_page_index=0,a.sample_num_in_dataset=e.data.content.sample_num_in_dataset,a.current_dataset=e.data.content.current_dataset_name,console.log("Switch to dataset "+t)})},tagChange:function(t,a){var e=this.page_content[t].tag.indexOf(a);-1==e?this.page_content[t].tag.push(a):this.page_content[t].tag.splice(e,1);var s=new URLSearchParams;s.append("page_index",this.current_page_index),s.append("data_index",t),s.append("data_tag",i()(this.page_content[t].tag)),this.$axios.post(this.BASE_URL+"/batch-api/tag/",s).then(function(t){}),this.$forceUpdate()},spiderChange:function(t){this.spider_source=t},searchChange:function(){var t=this.spider_source,a=this.spider_keyword,e=new URLSearchParams;e.append("url",t),e.append("keyword",a),this.$axios.post(this.BASE_URL+"/batch-api/search/",e).then(function(t){})}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[t._l(t.page_index_list,function(a,s){return e("button",{key:s,staticClass:"btn",class:{"btn-secondary":s!=t.current_page_index,"btn-primary":s==t.current_page_index},attrs:{type:"button"},on:{click:function(a){return t.triggerPage(s)}}},[t._v(t._s(a))])}),t._v(" "),e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        数据集\n        ")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},t._l(t.dataset,function(a,s){return e("a",{key:s,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.triggerDataset(a)}}},[t._v(t._s(a)+" "),e("span",{staticClass:"badge badge-light"},[t._v(t._s(t.sample_num_in_dataset[a]))])])}),0)])],2),t._v(" "),e("div",[e("div",{staticClass:"row",staticStyle:{"margin-top":"50px"}},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-group-btn"},[e("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.spider_source)+" "),e("span",{staticClass:"caret"})]),t._v(" "),e("ul",{staticClass:"dropdown-menu"},t._l(t.spider_source_list,function(a,s){return e("li",{key:s},[e("a",{attrs:{href:"#"},on:{click:function(e){return t.spiderChange(a)}}},[t._v(t._s(a))])])}),0)]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.spider_keyword,expression:"spider_keyword"}],staticClass:"form-control",attrs:{type:"text","aria-label":"..."},domProps:{value:t.spider_keyword},on:{input:function(a){a.target.composing||(t.spider_keyword=a.target.value)}}}),t._v(" "),e("span",{staticClass:"input-group-btn"},[e("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(a){return t.searchChange()}}},[t._v("Go!")])])])])]),t._v(" "),e("div",{staticStyle:{display:"flex","margin-top":"20px"}},[e("span",{staticClass:"badge badge-info"},[t._v("等待处理: "+t._s(t.waiting_process_num))]),t._v(" "),e("span",{staticClass:"badge badge-info",staticStyle:{"margin-left":"20px"}},[t._v("完成处理: "+t._s(t.finished_process_num))])])]),t._v(" "),e("div",{staticClass:"data-and-tag-layout"},t._l(t.page_content,function(a,s){return e("div",{key:s},[e("div",{staticClass:"data-and-tag-card"},[e("div",{staticStyle:{"align-self":"flex-end","margin-right":"20px"}},[e("span",{staticClass:"badge badge-info"},[t._v(t._s(t.current_dataset))])]),t._v(" "),e("div",{staticClass:"data-and-tag-group"},[e("div",{staticClass:"group-data-cell"},t._l(a.data,function(a,s){return e("div",{key:s,staticClass:"data-cell"},[e("div",{staticClass:"data-item"},["IMAGE"==a.type?e("img",{staticStyle:{"max-height":"256px"},attrs:{src:a.data}}):"FILE"==a.type?e("a",{attrs:{href:a.data}},[t._v(t._s(a.title))]):"JSON"==a.type?e("a",{attrs:{href:a.data}},[t._v(t._s(a.title))]):e("p",[t._v(t._s(a.data))])])])}),0),t._v(" "),e("div",{staticClass:"group-tag-cell"},t._l(t.tags,function(n,i){return e("div",{key:i,staticStyle:{"margin-right":"10px"}},[e("label",[t._v(t._s(n))]),t._v(" "),e("input",{attrs:{type:"checkbox"},domProps:{checked:-1!=a.tag.indexOf(n)},on:{click:function(a){return t.tagChange(s,n)}}})])}),0)])])])}),0)])},staticRenderFns:[]};var d={name:"App",components:{ExperimentResults:e("VU/8")(r,o,!1,function(t){e("9B6r")},"data-v-04e23d8b",null).exports}},p={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),a("div",{staticClass:"container"},[a("ExperimentResults")],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"jumbotron",staticStyle:{"margin-top":"-60px"}},[a("h1",{staticClass:"display-4",staticStyle:{"text-align":"left"}},[this._v("AntGo: 实验结果")]),this._v(" "),a("p",{staticClass:"lead",staticStyle:{"text-align":"left"}},[this._v("帮助机器学习开发者快速查看模型效果")]),this._v(" "),a("hr",{staticClass:"my-4"}),this._v(" "),a("p",{staticStyle:{"text-align":"left"}},[this._v("通过定制infer_callback回调函数，实现定制化实验结果展示.")])])}]};var c=e("VU/8")(d,p,!1,function(t){e("1DRq")},null,null).exports,_=(e("K3J8"),e("qb6w"),e("Bb4J"),e("Tqaz")),l=e("mtWM"),u=e.n(l),g=(e("mw3O"),e("7t+N")),h=e.n(g);e("e0XP");u.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",s.default.config.productionTip=!1,s.default.use(_.a),s.default.use(_.b),s.default.use(u.a),s.default.use(h.a),s.default.prototype.$axios=u.a,s.default.prototype.BASE_URL="",new s.default({el:"#app",components:{App:c},template:"<App/>"})},e0XP:function(t,a){},qb6w:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.526eb671e561af3c7330.js.map