import{S as q,i as E,s as H,o as j,k as F,j as V,q as D,b as k,u as y,v as B,w as M,h,e as N,a as b,n as X,Q as G,d as z,f as w,g as S,x as L,y as P,z as A,U as J,B as O,H as R,E as W,I as Y,X as Z,D as I}from"./index.48448e6d.js";import{B as Q}from"./BlockLabel.41c28e38.js";import{U as x}from"./Upload.254f1897.js";import{M as $}from"./ModifyUpload.dcc91944.js";import{B as ee}from"./Block.20c015b6.js";import{n as le}from"./utils.49185b04.js";import{S as te}from"./StatusTracker.e2c3be5c.js";const C=n=>{let e=["B","KB","MB","GB","PB"],t=0;for(;n>1024;)n/=1024,t++;let l=e[t];return n.toFixed(1)+" "+l};var T="./assets/file.ffdbce7d.svg";function ae(n){let e;return{c(){e=N("div"),b(e,"class","min-h-[8rem]")},m(t,l){k(t,e,l)},p:X,d(t){t&&h(e)}}}function ne(n){let e,t,l,f,i,s=n[0].name+"",u,o,_,a=(isNaN(n[0].size||NaN)?"":C(n[0].size||0))+"",r,g,m;return{c(){e=N("a"),t=G("svg"),l=G("path"),f=F(),i=N("div"),u=z(s),o=F(),_=N("div"),r=z(a),b(l,"stroke-linecap","round"),b(l,"stroke-linejoin","round"),b(l,"stroke-width","2"),b(l,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"class","h-10 w-1/5"),b(t,"fill","none"),b(t,"viewBox","0 0 24 24"),b(t,"stroke","currentColor"),b(i,"class","file-name w-3/5 text-4xl p-6 break-all"),b(_,"class","text-2xl p-2"),b(e,"class","output-file w-full h-full flex flex-row flex-wrap justify-center items-center relative"),b(e,"href",g=n[0].data),b(e,"download",m=n[0].name)},m(v,c){k(v,e,c),w(e,t),w(t,l),w(e,f),w(e,i),w(i,u),w(e,o),w(e,_),w(_,r)},p(v,c){c&1&&s!==(s=v[0].name+"")&&S(u,s),c&1&&a!==(a=(isNaN(v[0].size||NaN)?"":C(v[0].size||0))+"")&&S(r,a),c&1&&g!==(g=v[0].data)&&b(e,"href",g),c&1&&m!==(m=v[0].name)&&b(e,"download",m)},d(v){v&&h(e)}}}function fe(n){let e,t,l,f;e=new Q({props:{show_label:n[2],image:T,label:n[1]||"File"}});function i(o,_){return o[0]?ne:ae}let s=i(n),u=s(n);return{c(){j(e.$$.fragment),t=F(),u.c(),l=V()},m(o,_){D(e,o,_),k(o,t,_),u.m(o,_),k(o,l,_),f=!0},p(o,[_]){const a={};_&4&&(a.show_label=o[2]),_&2&&(a.label=o[1]||"File"),e.$set(a),s===(s=i(o))&&u?u.p(o,_):(u.d(1),u=s(o),u&&(u.c(),u.m(l.parentNode,l)))},i(o){f||(y(e.$$.fragment,o),f=!0)},o(o){B(e.$$.fragment,o),f=!1},d(o){M(e,o),o&&h(t),u.d(o),o&&h(l)}}}function ie(n,e,t){let{value:l}=e,{style:f=""}=e,{label:i}=e,{show_label:s}=e;return n.$$set=u=>{"value"in u&&t(0,l=u.value),"style"in u&&t(3,f=u.style),"label"in u&&t(1,i=u.label),"show_label"in u&&t(2,s=u.show_label)},[l,i,s,f]}class oe extends q{constructor(e){super(),E(this,e,ie,fe,H,{value:0,style:3,label:1,show_label:2})}}function se(n){let e,t,l,f,i=K(n[0].name)+"",s,u,o,_=C(n[0].size||0)+"",a,r,g,m,v,c,U;return t=new $({props:{absolute:!0}}),t.$on("clear",n[8]),{c(){e=N("div"),j(t.$$.fragment),l=F(),f=N("div"),s=z(i),u=F(),o=N("div"),a=z(_),r=F(),g=N("div"),m=N("a"),v=z("Download"),b(f,"class","file-name p-2"),b(o,"class","file-size p-2"),b(m,"href",c=n[0].data),b(m,"download",""),b(m,"class","text-indigo-600 hover:underline"),b(g,"class","file-size p-2 hover:underline"),b(e,"class","file-preview w-full flex flex-row justify-between overflow-y-auto mt-7")},m(p,d){k(p,e,d),D(t,e,null),w(e,l),w(e,f),w(f,s),w(e,u),w(e,o),w(o,a),w(e,r),w(e,g),w(g,m),w(m,v),U=!0},p(p,d){(!U||d&1)&&i!==(i=K(p[0].name)+"")&&S(s,i),(!U||d&1)&&_!==(_=C(p[0].size||0)+"")&&S(a,_),(!U||d&1&&c!==(c=p[0].data))&&b(m,"href",c)},i(p){U||(y(t.$$.fragment,p),U=!0)},o(p){B(t.$$.fragment,p),U=!1},d(p){p&&h(e),M(t)}}}function ue(n){let e,t,l;function f(s){n[10](s)}let i={filetype:"file",$$slots:{default:[re]},$$scope:{ctx:n}};return n[6]!==void 0&&(i.dragging=n[6]),e=new x({props:i}),O.push(()=>R(e,"dragging",f)),e.$on("load",n[7]),{c(){j(e.$$.fragment)},m(s,u){D(e,s,u),l=!0},p(s,u){const o={};u&4110&&(o.$$scope={dirty:u,ctx:s}),!t&&u&64&&(t=!0,o.dragging=s[6],W(()=>t=!1)),e.$set(o)},i(s){l||(y(e.$$.fragment,s),l=!0)},o(s){B(e.$$.fragment,s),l=!1},d(s){M(e,s)}}}function re(n){let e,t,l,f,i,s,u,o,_;return{c(){e=z(n[1]),t=F(),l=N("br"),f=z("- "),i=z(n[2]),s=z(" -"),u=N("br"),o=F(),_=z(n[3])},m(a,r){k(a,e,r),k(a,t,r),k(a,l,r),k(a,f,r),k(a,i,r),k(a,s,r),k(a,u,r),k(a,o,r),k(a,_,r)},p(a,r){r&2&&S(e,a[1]),r&4&&S(i,a[2]),r&8&&S(_,a[3])},d(a){a&&h(e),a&&h(t),a&&h(l),a&&h(f),a&&h(i),a&&h(s),a&&h(u),a&&h(o),a&&h(_)}}}function _e(n){let e,t,l,f,i,s;e=new Q({props:{show_label:n[5],image:T,label:n[4]||"File"}});const u=[ue,se],o=[];function _(a,r){return a[0]===null?0:1}return l=_(n),f=o[l]=u[l](n),{c(){j(e.$$.fragment),t=F(),f.c(),i=V()},m(a,r){D(e,a,r),k(a,t,r),o[l].m(a,r),k(a,i,r),s=!0},p(a,[r]){const g={};r&32&&(g.show_label=a[5]),r&16&&(g.label=a[4]||"File"),e.$set(g);let m=l;l=_(a),l===m?o[l].p(a,r):(L(),B(o[m],1,1,()=>{o[m]=null}),P(),f=o[l],f?f.p(a,r):(f=o[l]=u[l](a),f.c()),y(f,1),f.m(i.parentNode,i))},i(a){s||(y(e.$$.fragment,a),y(f),s=!0)},o(a){B(e.$$.fragment,a),B(f),s=!1},d(a){M(e,a),a&&h(t),o[l].d(a),a&&h(i)}}}function K(n){return n.length>30?`${n.substr(0,30)}...`:n}function ce(n,e,t){let{value:l}=e,{drop_text:f="Drop a file"}=e,{or_text:i="or"}=e,{upload_text:s="click to upload"}=e,{label:u=""}=e,{style:o}=e,{show_label:_}=e;async function a({detail:c}){t(0,l=c),await J(),g("change",l)}function r({detail:c}){t(0,l=null),g("change",l),g("clear")}const g=A();let m=!1;function v(c){m=c,t(6,m)}return n.$$set=c=>{"value"in c&&t(0,l=c.value),"drop_text"in c&&t(1,f=c.drop_text),"or_text"in c&&t(2,i=c.or_text),"upload_text"in c&&t(3,s=c.upload_text),"label"in c&&t(4,u=c.label),"style"in c&&t(9,o=c.style),"show_label"in c&&t(5,_=c.show_label)},n.$$.update=()=>{n.$$.dirty&64&&g("drag",m)},[l,f,i,s,u,_,m,a,r,o,v]}class de extends q{constructor(e){super(),E(this,e,ce,_e,H,{value:0,drop_text:1,or_text:2,upload_text:3,label:4,style:9,show_label:5})}}function me(n){let e,t;return e=new oe({props:{value:n[6],style:n[1],label:n[3],show_label:n[4]}}),{c(){j(e.$$.fragment)},m(l,f){D(e,l,f),t=!0},p(l,f){const i={};f&64&&(i.value=l[6]),f&2&&(i.style=l[1]),f&8&&(i.label=l[3]),f&16&&(i.show_label=l[4]),e.$set(i)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function be(n){let e,t;return e=new de({props:{label:n[3],show_label:n[4],value:n[6],style:n[1],drop_text:n[8]("interface.drop_file"),or_text:n[8]("or"),upload_text:n[8]("interface.click_to_upload")}}),e.$on("change",n[11]),e.$on("drag",n[12]),e.$on("change",n[13]),e.$on("clear",n[14]),{c(){j(e.$$.fragment)},m(l,f){D(e,l,f),t=!0},p(l,f){const i={};f&8&&(i.label=l[3]),f&16&&(i.show_label=l[4]),f&64&&(i.value=l[6]),f&2&&(i.style=l[1]),f&256&&(i.drop_text=l[8]("interface.drop_file")),f&256&&(i.or_text=l[8]("or")),f&256&&(i.upload_text=l[8]("interface.click_to_upload")),e.$set(i)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ge(n){let e,t,l,f,i,s;e=new te({props:{tracked_status:n[5]}});const u=[be,me],o=[];function _(a,r){return a[2]==="dynamic"?0:1}return l=_(n),f=o[l]=u[l](n),{c(){j(e.$$.fragment),t=F(),f.c(),i=V()},m(a,r){D(e,a,r),k(a,t,r),o[l].m(a,r),k(a,i,r),s=!0},p(a,r){const g={};r&32&&(g.tracked_status=a[5]),e.$set(g);let m=l;l=_(a),l===m?o[l].p(a,r):(L(),B(o[m],1,1,()=>{o[m]=null}),P(),f=o[l],f?f.p(a,r):(f=o[l]=u[l](a),f.c()),y(f,1),f.m(i.parentNode,i))},i(a){s||(y(e.$$.fragment,a),y(f),s=!0)},o(a){B(e.$$.fragment,a),B(f),s=!1},d(a){M(e,a),a&&h(t),o[l].d(a),a&&h(i)}}}function we(n){let e,t;return e=new ee({props:{variant:n[2]==="dynamic"&&n[0]===null?"dashed":"solid",color:n[7]?"green":"grey",padding:!1,$$slots:{default:[ge]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment)},m(l,f){D(e,l,f),t=!0},p(l,[f]){const i={};f&5&&(i.variant=l[2]==="dynamic"&&l[0]===null?"dashed":"solid"),f&128&&(i.color=l[7]?"green":"grey"),f&33279&&(i.$$scope={dirty:f,ctx:l}),e.$set(i)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ke(n,e,t){let l;Y(n,Z,d=>t(8,l=d));let{value:f=null}=e,{default_value:i=null}=e,{style:s=""}=e,{mode:u}=e,{root:o}=e,{label:_}=e,{show_label:a}=e,{loading_status:r}=e;i&&(f=i);let g,m=!1;const v=({detail:d})=>t(0,f=d),c=({detail:d})=>t(7,m=d);function U(d){I.call(this,n,d)}function p(d){I.call(this,n,d)}return n.$$set=d=>{"value"in d&&t(0,f=d.value),"default_value"in d&&t(9,i=d.default_value),"style"in d&&t(1,s=d.style),"mode"in d&&t(2,u=d.mode),"root"in d&&t(10,o=d.root),"label"in d&&t(3,_=d.label),"show_label"in d&&t(4,a=d.show_label),"loading_status"in d&&t(5,r=d.loading_status)},n.$$.update=()=>{n.$$.dirty&1025&&t(6,g=le(f,o))},[f,s,u,_,a,r,g,m,l,i,o,v,c,U,p]}class he extends q{constructor(e){super(),E(this,e,ke,we,H,{value:0,default_value:9,style:1,mode:2,root:10,label:3,show_label:4,loading_status:5})}}var Ue=he;const je=["static","dynamic"];export{Ue as Component,je as modes};
