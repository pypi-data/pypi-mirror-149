import{S as W,i as G,s as H,o as V,k as D,j as C,q as j,b as k,x as J,v as p,y as P,u as v,w as z,h,z as A,D as y,e as N,d as q,a as m,f as w,g as M,F as U,l as I,r as O,n as Q,B as Y,H as Z,E as x,I as $,X as ee,J as le,K as te,L as ne}from"./index.c156a17d.js";import{B as ae}from"./Block.dfe8f898.js";import{n as oe}from"./utils.49185b04.js";import{U as ie}from"./Upload.b07f7019.js";import{M as re}from"./ModifyUpload.0db0101e.js";import{B as R}from"./BlockLabel.b1c990fc.js";import{W as se}from"./Image.svelte_svelte_type_style_lang.58e30ab5.js";import{S as ue}from"./StatusTracker.f0d63e01.js";import"./_commonjsHelpers.80d8c10d.js";const X=n=>{let e=["B","KB","MB","GB","PB"],t=0;for(;n>1024;)n/=1024,t++;let l=e[t];return n.toFixed(1)+" "+l},fe=n=>!0;var T="./assets/video.5c567403.svg";function _e(n){let e,t,l,a,i;e=new re({}),e.$on("clear",n[10]);function r(u,s){if(s&1&&(l=null),l==null&&(l=!!fe(u[0].name)),l)return be;if(u[0].size)return de}let f=r(n,-1),o=f&&f(n);return{c(){V(e.$$.fragment),t=D(),o&&o.c(),a=C()},m(u,s){j(e,u,s),k(u,t,s),o&&o.m(u,s),k(u,a,s),i=!0},p(u,s){f===(f=r(u,s))&&o?o.p(u,s):(o&&o.d(1),o=f&&f(u),o&&(o.c(),o.m(a.parentNode,a)))},i(u){i||(v(e.$$.fragment,u),i=!0)},o(u){p(e.$$.fragment,u),i=!1},d(u){z(e,u),u&&h(t),o&&o.d(u),u&&h(a)}}}function ce(n){let e,t,l,a;const i=[ge,me],r=[];function f(o,u){return o[1]==="upload"?0:o[1]==="webcam"?1:-1}return~(e=f(n))&&(t=r[e]=i[e](n)),{c(){t&&t.c(),l=C()},m(o,u){~e&&r[e].m(o,u),k(o,l,u),a=!0},p(o,u){let s=e;e=f(o),e===s?~e&&r[e].p(o,u):(t&&(J(),p(r[s],1,1,()=>{r[s]=null}),P()),~e?(t=r[e],t?t.p(o,u):(t=r[e]=i[e](o),t.c()),v(t,1),t.m(l.parentNode,l)):t=null)},i(o){a||(v(t),a=!0)},o(o){p(t),a=!1},d(o){~e&&r[e].d(o),o&&h(l)}}}function de(n){let e,t=n[0].name+"",l,a,i,r=X(n[0].size)+"",f;return{c(){e=N("div"),l=q(t),a=D(),i=N("div"),f=q(r),m(e,"class","file-name text-4xl p-6 break-all"),m(i,"class","file-size text-2xl p-2")},m(o,u){k(o,e,u),w(e,l),k(o,a,u),k(o,i,u),w(i,f)},p(o,u){u&1&&t!==(t=o[0].name+"")&&M(l,t),u&1&&r!==(r=X(o[0].size)+"")&&M(f,r)},d(o){o&&h(e),o&&h(a),o&&h(i)}}}function be(n){let e,t,l,a;return{c(){e=N("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),U(e.src,t=n[0].data)||m(e,"src",t),m(e,"style",n[3])},m(i,r){k(i,e,r),l||(a=[I(e,"play",n[11]),I(e,"pause",n[12]),I(e,"ended",n[13])],l=!0)},p(i,r){r&1&&!U(e.src,t=i[0].data)&&m(e,"src",t),r&8&&m(e,"style",i[3])},d(i){i&&h(e),l=!1,O(a)}}}function me(n){let e,t;return e=new se({props:{mode:"video"}}),e.$on("capture",n[15]),{c(){V(e.$$.fragment)},m(l,a){j(e,l,a),t=!0},p:Q,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ge(n){let e,t,l;function a(r){n[14](r)}let i={filetype:"video/mp4,video/x-m4v,video/*",$$slots:{default:[ke]},$$scope:{ctx:n}};return n[8]!==void 0&&(i.dragging=n[8]),e=new ie({props:i}),Y.push(()=>Z(e,"dragging",a)),e.$on("load",n[9]),{c(){V(e.$$.fragment)},m(r,f){j(e,r,f),l=!0},p(r,f){const o={};f&131296&&(o.$$scope={dirty:f,ctx:r}),!t&&f&256&&(t=!0,o.dragging=r[8],x(()=>t=!1)),e.$set(o)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){p(e.$$.fragment,r),l=!1},d(r){z(e,r)}}}function ke(n){let e,t,l,a,i,r,f,o,u;return{c(){e=N("div"),t=q(n[5]),l=D(),a=N("span"),i=q("- "),r=q(n[6]),f=q(" -"),o=D(),u=q(n[7]),m(a,"class","text-gray-300"),m(e,"class","flex flex-col")},m(s,_){k(s,e,_),w(e,t),w(e,l),w(e,a),w(a,i),w(a,r),w(a,f),w(e,o),w(e,u)},p(s,_){_&32&&M(t,s[5]),_&64&&M(r,s[6]),_&128&&M(u,s[7])},d(s){s&&h(e)}}}function he(n){let e,t,l,a,i,r;e=new R({props:{show_label:n[4],image:T,label:n[2]||"Video"}});const f=[ce,_e],o=[];function u(s,_){return s[0]===null?0:1}return l=u(n),a=o[l]=f[l](n),{c(){V(e.$$.fragment),t=D(),a.c(),i=C()},m(s,_){j(e,s,_),k(s,t,_),o[l].m(s,_),k(s,i,_),r=!0},p(s,[_]){const c={};_&16&&(c.show_label=s[4]),_&4&&(c.label=s[2]||"Video"),e.$set(c);let g=l;l=u(s),l===g?o[l].p(s,_):(J(),p(o[g],1,1,()=>{o[g]=null}),P(),a=o[l],a?a.p(s,_):(a=o[l]=f[l](s),a.c()),v(a,1),a.m(i.parentNode,i))},i(s){r||(v(e.$$.fragment,s),v(a),r=!0)},o(s){p(e.$$.fragment,s),p(a),r=!1},d(s){z(e,s),s&&h(t),o[l].d(s),s&&h(i)}}}function pe(n,e,t){let{value:l=null}=e,{source:a}=e,{label:i=void 0}=e,{style:r=""}=e,{show_label:f}=e,{drop_text:o="Drop a video file"}=e,{or_text:u="or"}=e,{upload_text:s="click to upload"}=e;const _=A();function c({detail:d}){_("change",d),t(0,l=d)}function g({detail:d}){t(0,l=null),_("change",d),_("clear")}let B=!1;function S(d){y.call(this,n,d)}function E(d){y.call(this,n,d)}function F(d){y.call(this,n,d)}function K(d){B=d,t(8,B)}const L=({detail:d})=>t(0,l=d);return n.$$set=d=>{"value"in d&&t(0,l=d.value),"source"in d&&t(1,a=d.source),"label"in d&&t(2,i=d.label),"style"in d&&t(3,r=d.style),"show_label"in d&&t(4,f=d.show_label),"drop_text"in d&&t(5,o=d.drop_text),"or_text"in d&&t(6,u=d.or_text),"upload_text"in d&&t(7,s=d.upload_text)},n.$$.update=()=>{n.$$.dirty&256&&_("drag",B)},[l,a,i,r,f,o,u,s,B,c,g,S,E,F,K,L]}class ve extends W{constructor(e){super(),G(this,e,pe,he,H,{value:0,source:1,label:2,style:3,show_label:4,drop_text:5,or_text:6,upload_text:7})}}function we(n){let e,t,l,a;return{c(){e=N("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),U(e.src,t=n[0].data)||m(e,"src",t),m(e,"style",n[2])},m(i,r){k(i,e,r),l||(a=[I(e,"play",n[4]),I(e,"pause",n[5]),I(e,"ended",n[6])],l=!0)},p(i,r){r&1&&!U(e.src,t=i[0].data)&&m(e,"src",t),r&4&&m(e,"style",i[2])},d(i){i&&h(e),l=!1,O(a)}}}function ye(n){let e,t,l;return{c(){e=N("div"),t=N("img"),U(t.src,l=T)||m(t,"src",l),m(t,"alt",""),m(t,"class","h-6 opacity-20"),m(e,"class","min-h-[16rem] flex justify-center items-center")},m(a,i){k(a,e,i),w(e,t)},p:Q,d(a){a&&h(e)}}}function Be(n){let e,t,l,a;e=new R({props:{show_label:n[3],image:T,label:n[1]||"Video"}});function i(o,u){return o[0]===null?ye:we}let r=i(n),f=r(n);return{c(){V(e.$$.fragment),t=D(),f.c(),l=C()},m(o,u){j(e,o,u),k(o,t,u),f.m(o,u),k(o,l,u),a=!0},p(o,[u]){const s={};u&8&&(s.show_label=o[3]),u&2&&(s.label=o[1]||"Video"),e.$set(s),r===(r=i(o))&&f?f.p(o,u):(f.d(1),f=r(o),f&&(f.c(),f.m(l.parentNode,l)))},i(o){a||(v(e.$$.fragment,o),a=!0)},o(o){p(e.$$.fragment,o),a=!1},d(o){z(e,o),o&&h(t),f.d(o),o&&h(l)}}}function Ve(n,e,t){let{value:l=null}=e,{label:a=void 0}=e,{style:i=""}=e,{show_label:r}=e;const f=A();function o(_){y.call(this,n,_)}function u(_){y.call(this,n,_)}function s(_){y.call(this,n,_)}return n.$$set=_=>{"value"in _&&t(0,l=_.value),"label"in _&&t(1,a=_.label),"style"in _&&t(2,i=_.style),"show_label"in _&&t(3,r=_.show_label)},n.$$.update=()=>{n.$$.dirty&1&&l&&f("change",l)},[l,a,i,r,o,u,s]}class je extends W{constructor(e){super(),G(this,e,Ve,Be,H,{value:0,label:1,style:2,show_label:3})}}function ze(n){let e,t;return e=new ve({props:{value:n[7],label:n[1],show_label:n[4],style:n[2],source:n[3],drop_text:n[9]("interface.drop_video"),or_text:n[9]("or"),upload_text:n[9]("interface.click_to_upload")}}),e.$on("change",n[12]),e.$on("drag",n[13]),e.$on("change",n[14]),e.$on("clear",n[15]),e.$on("play",n[16]),e.$on("pause",n[17]),{c(){V(e.$$.fragment)},m(l,a){j(e,l,a),t=!0},p(l,a){const i={};a&128&&(i.value=l[7]),a&2&&(i.label=l[1]),a&16&&(i.show_label=l[4]),a&4&&(i.style=l[2]),a&8&&(i.source=l[3]),a&512&&(i.drop_text=l[9]("interface.drop_video")),a&512&&(i.or_text=l[9]("or")),a&512&&(i.upload_text=l[9]("interface.click_to_upload")),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ne(n){let e,t;return e=new je({props:{value:n[7],label:n[1],show_label:n[4],style:n[2]}}),{c(){V(e.$$.fragment)},m(l,a){j(e,l,a),t=!0},p(l,a){const i={};a&128&&(i.value=l[7]),a&2&&(i.label=l[1]),a&16&&(i.show_label=l[4]),a&4&&(i.style=l[2]),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Se(n){let e,t,l,a,i,r;const f=[n[5]];let o={};for(let c=0;c<f.length;c+=1)o=le(o,f[c]);e=new ue({props:o});const u=[Ne,ze],s=[];function _(c,g){return c[6]==="static"?0:1}return l=_(n),a=s[l]=u[l](n),{c(){V(e.$$.fragment),t=D(),a.c(),i=C()},m(c,g){j(e,c,g),k(c,t,g),s[l].m(c,g),k(c,i,g),r=!0},p(c,g){const B=g&32?te(f,[ne(c[5])]):{};e.$set(B);let S=l;l=_(c),l===S?s[l].p(c,g):(J(),p(s[S],1,1,()=>{s[S]=null}),P(),a=s[l],a?a.p(c,g):(a=s[l]=u[l](c),a.c()),v(a,1),a.m(i.parentNode,i))},i(c){r||(v(e.$$.fragment,c),v(a),r=!0)},o(c){p(e.$$.fragment,c),p(a),r=!1},d(c){z(e,c),c&&h(t),s[l].d(c),c&&h(i)}}}function qe(n){let e,t;return e=new ae({props:{variant:n[6]==="dynamic"&&n[0]===null&&n[3]==="upload"?"dashed":"solid",color:n[8]?"green":"grey",padding:!1,$$slots:{default:[Se]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(l,a){j(e,l,a),t=!0},p(l,[a]){const i={};a&73&&(i.variant=l[6]==="dynamic"&&l[0]===null&&l[3]==="upload"?"dashed":"solid"),a&256&&(i.color=l[8]?"green":"grey"),a&263167&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function De(n,e,t){let l;$(n,ee,b=>t(9,l=b));let{value:a=null}=e,{label:i}=e,{default_value:r}=e,{style:f=""}=e,{source:o}=e,{root:u}=e,{show_label:s}=e,{loading_status:_}=e,{mode:c}=e;r&&(a=r);let g,B=!1;const S=({detail:b})=>t(0,a=b),E=({detail:b})=>t(8,B=b);function F(b){y.call(this,n,b)}function K(b){y.call(this,n,b)}function L(b){y.call(this,n,b)}function d(b){y.call(this,n,b)}return n.$$set=b=>{"value"in b&&t(0,a=b.value),"label"in b&&t(1,i=b.label),"default_value"in b&&t(10,r=b.default_value),"style"in b&&t(2,f=b.style),"source"in b&&t(3,o=b.source),"root"in b&&t(11,u=b.root),"show_label"in b&&t(4,s=b.show_label),"loading_status"in b&&t(5,_=b.loading_status),"mode"in b&&t(6,c=b.mode)},n.$$.update=()=>{n.$$.dirty&2049&&t(7,g=oe(a,u))},[a,i,f,o,s,_,c,g,B,l,r,u,S,E,F,K,L,d]}class Ie extends W{constructor(e){super(),G(this,e,De,qe,H,{value:0,label:1,default_value:10,style:2,source:3,root:11,show_label:4,loading_status:5,mode:6})}}var He=Ie;const Je=["static","dynamic"];export{He as Component,Je as modes};
