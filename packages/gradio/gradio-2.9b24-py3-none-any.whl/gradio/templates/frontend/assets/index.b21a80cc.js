import{S as ne,i as se,s as re,e as L,d as ae,k as B,U as K,a as g,t as q,b as j,f as v,l as C,g as ue,h as z,r as R,a3 as Y,n as F,j as be,z as ie,a4 as O,a5 as J,Y as N,B as ye,J as we,o as U,q as V,K as ve,L as ke,u as Z,v as G,w as I}from"./index.c156a17d.js";import{S as Ae}from"./StatusTracker.f0d63e01.js";function P(r,e,t){const l=r.slice();return l[35]=e[t],l[37]=t,l}function Q(r,e,t){const l=r.slice();return l[38]=e[t].value,l[39]=e[t].id,l[40]=e,l[41]=t,l}function W(r,e,t){const l=r.slice();return l[38]=e[t].value,l[39]=e[t].id,l[42]=e,l[37]=t,l}function X(r,e){let t,l,s,o=e[38]+"",h,p,n,a,d,f,H,T,k,A;function b(...u){return e[16](e[38],e[42],e[37],...u)}function y(){return e[17](e[37])}return{key:r,first:null,c(){t=L("th"),l=L("div"),s=L("div"),h=ae(o),p=B(),n=L("div"),a=K("svg"),d=K("path"),T=B(),g(s,"class","py-2 pl-2 flex-1 outline-none"),g(s,"contenteditable",e[1]),g(d,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),g(a,"width","1em"),g(a,"height","1em"),g(a,"class","fill-current text-[10px]"),g(a,"viewBox","0 0 9 7"),g(a,"fill","none"),g(a,"xmlns","http://www.w3.org/2000/svg"),g(n,"class",f="flex items-center justify-center p-2 cursor-pointer !visible leading-snug transform transition-all "+(e[8]!==e[37]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[8]===e[37]&&e[7]==="des"?"-scale-y-[1]":"")),q(n,"text-gray-200",e[8]!==e[37]),g(l,"class",H="flex outline-none focus-within:ring-1 ring-orange-500 focus-within:bg-orange-50 ring-inset "+(e[37]===0?"rounded-tl-lg":e[37]===e[6].length-1?"rounded-tr-lg":"")),g(t,"class","p-0 relative"),this.first=t},m(u,c){j(u,t,c),v(t,l),v(l,s),v(s,h),v(l,p),v(l,n),v(n,a),v(a,d),v(t,T),k||(A=[C(s,"input",b),C(n,"click",y)],k=!0)},p(u,c){e=u,c[0]&64&&o!==(o=e[38]+"")&&ue(h,o),c[0]&2&&g(s,"contenteditable",e[1]),c[0]&448&&f!==(f="flex items-center justify-center p-2 cursor-pointer !visible leading-snug transform transition-all "+(e[8]!==e[37]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[8]===e[37]&&e[7]==="des"?"-scale-y-[1]":""))&&g(n,"class",f),c[0]&448&&q(n,"text-gray-200",e[8]!==e[37]),c[0]&64&&H!==(H="flex outline-none focus-within:ring-1 ring-orange-500 focus-within:bg-orange-50 ring-inset "+(e[37]===0?"rounded-tl-lg":e[37]===e[6].length-1?"rounded-tr-lg":""))&&g(l,"class",H)},d(u){u&&z(t),k=!1,R(A)}}}function x(r){let e,t=r[39],l,s;function o(){r[18].call(e,r[40],r[41])}const h=()=>r[19](e,t),p=()=>r[19](null,t);return{c(){e=L("input"),g(e,"class","outline-none absolute p-0 w-3/4"),g(e,"tabindex","-1")},m(n,a){j(n,e,a),O(e,r[38]),h(),l||(s=[C(e,"input",o),C(e,"blur",Le)],l=!0)},p(n,a){r=n,a[0]&16&&e.value!==r[38]&&O(e,r[38]),t!==r[39]&&(p(),t=r[39],h())},d(n){n&&z(e),p(),l=!1,R(s)}}}function $(r,e){var T;let t,l,s,o,h=((T=e[38])!=null?T:"")+"",p,n,a,d,f=e[2]===e[39]&&x(e);function H(...k){return e[20](e[38],e[40],e[41],...k)}return{key:r,first:null,c(){t=L("td"),l=L("div"),f&&f.c(),s=B(),o=L("span"),p=ae(h),g(o,"class","cursor-default w-full"),g(o,"tabindex","-1"),g(o,"role","button"),q(o,"opacity-0",e[2]===e[39]),g(l,"class",n="min-h-[3.3rem] px-5 py-3 border-[0.125rem] "+(e[3]===e[39]?"border-gray-600 dark:border-gray-200":"")),q(l,"border-transparent",e[3]!==e[39]),g(t,"class","p-2 outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg"),g(t,"contenteditable",e[1]),this.first=t},m(k,A){j(k,t,A),v(t,l),f&&f.m(l,null),v(l,s),v(l,o),v(o,p),a||(d=C(t,"input",H),a=!0)},p(k,A){var b;e=k,e[2]===e[39]?f?f.p(e,A):(f=x(e),f.c(),f.m(l,s)):f&&(f.d(1),f=null),A[0]&16&&h!==(h=((b=e[38])!=null?b:"")+"")&&ue(p,h),A[0]&20&&q(o,"opacity-0",e[2]===e[39]),A[0]&24&&n!==(n="min-h-[3.3rem] px-5 py-3 border-[0.125rem] "+(e[3]===e[39]?"border-gray-600 dark:border-gray-200":""))&&g(l,"class",n),A[0]&24&&q(l,"border-transparent",e[3]!==e[39]),A[0]&2&&g(t,"contenteditable",e[1])},d(k){k&&z(t),f&&f.d(),a=!1,d()}}}function ee(r,e){let t,l=[],s=new Map,o,h=e[35];const p=n=>n[39];for(let n=0;n<h.length;n+=1){let a=Q(e,h,n),d=p(a);s.set(d,l[n]=$(d,a))}return{key:r,first:null,c(){t=L("tr");for(let n=0;n<l.length;n+=1)l[n].c();o=B(),g(t,"class","group border-b last:border-none divide-x dark:divide-gray-800 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white"),this.first=t},m(n,a){j(n,t,a);for(let d=0;d<l.length;d+=1)l[d].m(t,null);v(t,o)},p(n,a){e=n,a[0]&62&&(h=e[35],l=Y(l,a,p,1,e,h,s,t,J,$,o,Q))},d(n){n&&z(t);for(let a=0;a<l.length;a+=1)l[a].d()}}}function te(r){let e,t,l,s,o,h;return{c(){e=L("div"),t=L("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"></path></svg>New row',l=B(),s=L("button"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"></path></svg>
			New column`,g(t,"class","!flex-none gr-button group"),g(s,"class","!flex-none gr-button group"),g(e,"class","flex justify-end space-x-1 pt-2 text-gray-800")},m(p,n){j(p,e,n),v(e,t),v(e,l),v(e,s),o||(h=[C(t,"click",r[10]),C(s,"click",r[11])],o=!0)},p:F,d(p){p&&z(e),o=!1,R(h)}}}function Me(r){let e,t,l,s,o=[],h=new Map,p,n,a=[],d=new Map,f,H,T=r[6];const k=u=>u[39];for(let u=0;u<T.length;u+=1){let c=W(r,T,u),M=k(c);h.set(M,o[u]=X(M,c))}let A=r[4];const b=u=>u[35];for(let u=0;u<A.length;u+=1){let c=P(r,A,u),M=b(c);d.set(M,a[u]=ee(M,c))}let y=r[1]&&te(r);return{c(){e=L("div"),t=L("table"),l=L("thead"),s=L("tr");for(let u=0;u<o.length;u+=1)o[u].c();p=B(),n=L("tbody");for(let u=0;u<a.length;u+=1)a[u].c();f=B(),y&&y.c(),H=be(),g(s,"class","border-b divide-x dark:divide-gray-800 text-left"),g(l,"class","sticky top-0 left-0 right-0 bg-white shadow-sm z-10"),g(n,"class","overflow-scroll"),g(t,"class","table-auto font-mono w-full text-gray-900 text-sm"),g(e,"class","overflow-hidden rounded-lg relative border"),g(e,"style",r[0])},m(u,c){j(u,e,c),v(e,t),v(t,l),v(l,s);for(let M=0;M<o.length;M+=1)o[M].m(s,null);v(t,p),v(t,n);for(let M=0;M<a.length;M+=1)a[M].m(n,null);j(u,f,c),y&&y.m(u,c),j(u,H,c)},p(u,c){c[0]&962&&(T=u[6],o=Y(o,c,k,1,u,T,h,s,J,X,null,W)),c[0]&62&&(A=u[4],a=Y(a,c,b,1,u,A,d,n,J,ee,null,P)),c[0]&1&&g(e,"style",u[0]),u[1]?y?y.p(u,c):(y=te(u),y.c(),y.m(H.parentNode,H)):y&&(y.d(1),y=null)},i:F,o:F,d(u){u&&z(e);for(let c=0;c<o.length;c+=1)o[c].d();for(let c=0;c<a.length;c+=1)a[c].d();u&&z(f),y&&y.d(u),u&&z(H)}}}function le(r,e){return e?r.every((t,l)=>Array.isArray(t)?t.every((s,o)=>{var h;return s===((h=e==null?void 0:e[l])==null?void 0:h[o])}):t===(e==null?void 0:e[l])):!1}const Le=({currentTarget:r})=>r.setAttribute("tabindex","-1");function Te(r,e,t){let{headers:l=[]}=e,{values:s=[[]]}=e,{style:o=""}=e,{editable:h=!0}=e;const p=ie();let n=!1,a=!1,d={};function f(i){return!i||i.length===0?s[0].map((_,m)=>{const w=`h-${m}`;return t(5,d[w]={cell:null,input:null},d),{id:w,value:JSON.stringify(m+1)}}):i.map((_,m)=>{const w=`h-${m}`;return t(5,d[w]={cell:null,input:null},d),{id:w,value:_}})}function H(i){return i.map((_,m)=>_.map((w,D)=>{const S=`${m}-${D}`;return t(5,d[S]={input:null,cell:null},d),{value:w,id:S}}))||[Array(l.length).fill(0).map((_,m)=>{const w=`0-${m}`;return t(5,d[w]={input:null,cell:null},d),{value:"",id:`0-${m}`}})]}let T=f(l),k;async function A(){}let b=[[]],y;async function u(i,_){var m,w,D;if(_==="edit"&&typeof i=="number"&&(await N(),(m=d[i].input)==null||m.focus()),_==="edit"&&typeof i=="boolean"&&typeof a=="number"){let S=(w=d[a])==null?void 0:w.cell;await N(),S==null||S.focus()}if(_==="select"&&typeof i=="number"){const{cell:S}=d[i];S==null||S.setAttribute("tabindex","0"),await N(),(D=d[i].cell)==null||D.focus()}}let c,M;function oe(i,_){_==="asc"?t(4,b=b.sort((m,w)=>m[i].value<w[i].value?-1:1)):_==="des"&&t(4,b=b.sort((m,w)=>m[i].value>w[i].value?-1:1))}function E(i){typeof M!="number"||M!==i?(t(7,c="asc"),t(8,M=i)):c==="asc"?t(7,c="des"):c==="des"&&t(7,c="asc"),oe(i,c)}async function fe(i,_){var m,w;!h||(await N(),(m=d[i].input)==null||m.focus(),_&&((w=d[i].input)==null||w.select()))}function de(){b.push(l.map((i,_)=>{const m=`${b.length}-${_}`;return t(5,d[m]={cell:null,input:null},d),{id:m,value:""}})),t(4,b),t(13,s),t(15,y)}async function ce(){for(let _=0;_<b.length;_++){const m=`${_}-${b[_].length}`;t(5,d[m]={cell:null,input:null},d),b[_].push({id:m,value:""})}const i=`h-${l.length}`;t(5,d[i]={cell:null,input:null},d),T.push({id:i,value:`Header ${T.length+1}`}),t(4,b),t(13,s),t(15,y),t(6,T),t(12,l),t(14,k),await N(),fe(i,!0)}const ge=(i,_,m,w)=>t(6,_[m].value=w.target.innerText,T),he=i=>E(i);function _e(i,_){i[_].value=this.value,t(4,b),t(13,s),t(15,y)}function me(i,_){ye[i?"unshift":"push"](()=>{d[_].input=i,t(5,d)})}const pe=(i,_,m,w)=>t(4,_[m].value=w.target.innerText,b);return r.$$set=i=>{"headers"in i&&t(12,l=i.headers),"values"in i&&t(13,s=i.values),"style"in i&&t(0,o=i.style),"editable"in i&&t(1,h=i.editable)},r.$$.update=()=>{r.$$.dirty[0]&20480&&(le(l,k)||(t(6,T=f(l)),t(14,k=l),A())),r.$$.dirty[0]&40960&&(le(s,y)||(t(4,b=H(s)),t(15,y=s),A())),r.$$.dirty[0]&16&&p("change",b.map(i=>i.map(({value:_})=>_))),r.$$.dirty[0]&4&&u(n,"edit"),r.$$.dirty[0]&8&&u(a,"select")},[o,h,n,a,b,d,T,c,M,E,de,ce,l,s,k,y,ge,he,_e,me,pe]}class He extends ne{constructor(e){super(),se(this,e,Te,Me,re,{headers:12,values:13,style:0,editable:1},null,[-1,-1])}}function Se(r){let e,t,l,s,o;const h=[r[4]];let p={};for(let n=0;n<h.length;n+=1)p=we(p,h[n]);return t=new Ae({props:p}),s=new He({props:{values:r[1],headers:r[0],style:r[2],editable:r[3]==="dynamic"}}),s.$on("change",r[5]),{c(){e=L("div"),U(t.$$.fragment),l=B(),U(s.$$.fragment),g(e,"class","relative")},m(n,a){j(n,e,a),V(t,e,null),v(e,l),V(s,e,null),o=!0},p(n,[a]){const d=a&16?ve(h,[ke(n[4])]):{};t.$set(d);const f={};a&2&&(f.values=n[1]),a&1&&(f.headers=n[0]),a&4&&(f.style=n[2]),a&8&&(f.editable=n[3]==="dynamic"),s.$set(f)},i(n){o||(Z(t.$$.fragment,n),Z(s.$$.fragment,n),o=!0)},o(n){G(t.$$.fragment,n),G(s.$$.fragment,n),o=!1},d(n){n&&z(e),I(t),I(s)}}}function je(r,e,t){let{headers:l=[]}=e,{value:s=[["","",""]]}=e,{default_value:o=[["","",""]]}=e,{style:h=""}=e,{mode:p}=e;o&&(s=o);const n=ie();let{loading_status:a}=e;async function d({detail:f}){t(1,s=f),await N(),n("change",f)}return r.$$set=f=>{"headers"in f&&t(0,l=f.headers),"value"in f&&t(1,s=f.value),"default_value"in f&&t(6,o=f.default_value),"style"in f&&t(2,h=f.style),"mode"in f&&t(3,p=f.mode),"loading_status"in f&&t(4,a=f.loading_status)},r.$$.update=()=>{r.$$.dirty&3&&(Array.isArray(s)?(t(1,s),t(0,l)):(Array.isArray(s.headers)&&t(0,l=s.headers),t(1,s=s.data.length===0?[Array(l.length).fill("")]:s.data)))},[l,s,h,p,a,d,o]}class ze extends ne{constructor(e){super(),se(this,e,je,Se,re,{headers:0,value:1,default_value:6,style:2,mode:3,loading_status:4})}}var Ne=ze;const qe=["static","dynamic"];export{Ne as Component,qe as modes};
