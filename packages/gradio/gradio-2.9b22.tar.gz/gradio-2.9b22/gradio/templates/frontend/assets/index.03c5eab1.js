import{S as x,i as $,s as ee,o as L,q as R,u as y,v as B,w as A,k as j,j as le,b as w,x as J,y as K,h as v,U as te,B as N,e as d,a as b,F as C,f as k,l as E,m as O,r as ne,n as D}from"./index.48448e6d.js";import{B as se}from"./Block.20c015b6.js";import{B as oe}from"./BlockLabel.41c28e38.js";import{M as re}from"./ModifyUpload.dcc91944.js";import{S as ie}from"./StatusTracker.e2c3be5c.js";var P="./assets/image.45facf29.svg";function T(n,e,l){const s=n.slice();return s[18]=e[l],s[20]=l,s}function U(n,e,l){const s=n.slice();return s[18]=e[l],s[21]=e,s[20]=l,s}function ae(n){let e,l,s,f,o=n[4]!==null&&z(n),_=n[3],u=[];for(let a=0;a<_.length;a+=1)u[a]=I(T(n,_,a));let i=null;return _.length||(i=H()),{c(){o&&o.c(),e=j(),l=d("div"),s=d("div");for(let a=0;a<u.length;a+=1)u[a].c();i&&i.c(),b(s,"class","pt-6 grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 svelte-1bwm9qh"),b(l,"class","overflow-y-auto h-full p-2 min-h-[350px] xl:min-h-[450px] max-h-[55vh] svelte-1bwm9qh")},m(a,c){o&&o.m(a,c),w(a,e,c),w(a,l,c),k(l,s);for(let h=0;h<u.length;h+=1)u[h].m(s,null);i&&i.m(s,null),f=!0},p(a,c){if(a[4]!==null?o?(o.p(a,c),c&16&&y(o,1)):(o=z(a),o.c(),y(o,1),o.m(e.parentNode,e)):o&&(J(),B(o,1,1,()=>{o=null}),K()),c&24){_=a[3];let h;for(h=0;h<_.length;h+=1){const t=T(a,_,h);u[h]?u[h].p(t,c):(u[h]=I(t),u[h].c(),u[h].m(s,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=_.length,!_.length&&i?i.p(a,c):_.length?i&&(i.d(1),i=null):(i=H(),i.c(),i.m(s,null))}},i(a){f||(y(o),f=!0)},o(a){B(o),f=!1},d(a){o&&o.d(a),a&&v(e),a&&v(l),O(u,a),i&&i.d()}}}function ce(n){let e,l,s;return{c(){e=d("div"),l=d("img"),C(l.src,s=P)||b(l,"src",s),b(l,"alt",""),b(l,"class","h-6 opacity-20 svelte-1bwm9qh"),b(e,"class","min-h-[16rem] flex justify-center items-center svelte-1bwm9qh")},m(f,o){w(f,e,o),k(e,l)},p:D,i:D,o:D,d(f){f&&v(e)}}}function z(n){let e,l,s,f,o,_,u,i,a,c;l=new re({}),l.$on("clear",n[10]);let h=n[3],t=[];for(let r=0;r<h.length;r+=1)t[r]=F(U(n,h,r));return{c(){e=d("div"),L(l.$$.fragment),s=j(),f=d("img"),_=j(),u=d("div");for(let r=0;r<t.length;r+=1)t[r].c();b(f,"class","w-full object-contain h-[calc(100%-50px)] svelte-1bwm9qh"),C(f.src,o=n[3][n[4]])||b(f,"src",o),b(f,"alt",""),b(u,"class","absolute h-[50px] bg-white overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 svelte-1bwm9qh"),b(e,"class","absolute inset-0 z-10 flex flex-col bg-white/90 backdrop-blur min-h-[350px] xl:min-h-[450px] max-h-[55vh] svelte-1bwm9qh")},m(r,p){w(r,e,p),R(l,e,null),k(e,s),k(e,f),k(e,_),k(e,u);for(let g=0;g<t.length;g+=1)t[g].m(u,null);n[14](u),i=!0,a||(c=[E(f,"click",n[11]),E(e,"keydown",n[8])],a=!0)},p(r,p){if((!i||p&24&&!C(f.src,o=r[3][r[4]]))&&b(f,"src",o),p&56){h=r[3];let g;for(g=0;g<h.length;g+=1){const q=U(r,h,g);t[g]?t[g].p(q,p):(t[g]=F(q),t[g].c(),t[g].m(u,null))}for(;g<t.length;g+=1)t[g].d(1);t.length=h.length}},i(r){i||(y(l.$$.fragment,r),i=!0)},o(r){B(l.$$.fragment,r),i=!1},d(r){r&&v(e),A(l),O(t,r),n[14](null),a=!1,ne(c)}}}function F(n){let e,l,s,f,o,_=n[20],u,i;const a=()=>n[12](e,_),c=()=>n[12](null,_);function h(){return n[13](n[20])}return{c(){e=d("button"),l=d("img"),f=j(),b(l,"alt",""),b(l,"class","h-full w-full overflow-hidden object-contain svelte-1bwm9qh"),C(l.src,s=n[18])||b(l,"src",s),b(e,"class",o="gallery-item !flex-none !h-7 !w-7 transition-all duration-75 "+(n[4]===n[20]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1bwm9qh")},m(t,r){w(t,e,r),k(e,l),k(e,f),a(),u||(i=E(e,"click",h),u=!0)},p(t,r){n=t,r&8&&!C(l.src,s=n[18])&&b(l,"src",s),r&16&&o!==(o="gallery-item !flex-none !h-7 !w-7 transition-all duration-75 "+(n[4]===n[20]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1bwm9qh")&&b(e,"class",o),_!==n[20]&&(c(),_=n[20],a())},d(t){t&&v(e),c(),u=!1,i()}}}function H(n){let e;return{c(){e=d("p"),e.textContent="Empty",b(e,"class","svelte-1bwm9qh")},m(l,s){w(l,e,s)},p:D,d(l){l&&v(e)}}}function I(n){let e,l,s,f,o,_;function u(){return n[15](n[20])}return{c(){e=d("button"),l=d("img"),f=j(),b(l,"alt",""),b(l,"class","h-full w-full overflow-hidden object-contain svelte-1bwm9qh"),C(l.src,s=n[18])||b(l,"src",s),b(e,"class","gallery-item svelte-1bwm9qh")},m(i,a){w(i,e,a),k(e,l),k(e,f),o||(_=E(e,"click",u),o=!0)},p(i,a){n=i,a&8&&!C(l.src,s=n[18])&&b(l,"src",s)},d(i){i&&v(e),o=!1,_()}}}function fe(n){let e,l,s,f,o,_,u,i;e=new ie({props:{tracked_status:n[0]}}),s=new oe({props:{show_label:n[1],image:P,label:n[2]||"Gallery"}});const a=[ce,ae],c=[];function h(t,r){return t[3]===null?0:1}return o=h(n),_=c[o]=a[o](n),{c(){L(e.$$.fragment),l=j(),L(s.$$.fragment),f=j(),_.c(),u=le()},m(t,r){R(e,t,r),w(t,l,r),R(s,t,r),w(t,f,r),c[o].m(t,r),w(t,u,r),i=!0},p(t,r){const p={};r&1&&(p.tracked_status=t[0]),e.$set(p);const g={};r&2&&(g.show_label=t[1]),r&4&&(g.label=t[2]||"Gallery"),s.$set(g);let q=o;o=h(t),o===q?c[o].p(t,r):(J(),B(c[q],1,1,()=>{c[q]=null}),K(),_=c[o],_?_.p(t,r):(_=c[o]=a[o](t),_.c()),y(_,1),_.m(u.parentNode,u))},i(t){i||(y(e.$$.fragment,t),y(s.$$.fragment,t),y(_),i=!0)},o(t){B(e.$$.fragment,t),B(s.$$.fragment,t),B(_),i=!1},d(t){A(e,t),t&&v(l),A(s,t),t&&v(f),c[o].d(t),t&&v(u)}}}function ue(n){let e,l;return e=new se({props:{variant:"solid",color:"grey",padding:!1,$$slots:{default:[fe]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},m(s,f){R(e,s,f),l=!0},p(s,[f]){const o={};f&4194559&&(o.$$scope={dirty:f,ctx:s}),e.$set(o)},i(s){l||(y(e.$$.fragment,s),l=!0)},o(s){B(e.$$.fragment,s),l=!1},d(s){A(e,s)}}}function _e(n,e,l){let s,f,{loading_status:o}=e,{show_label:_}=e,{label:u}=e,{value:i=null}=e,{style:a=""}=e,c=null;function h(m){switch(m.code){case"Escape":m.preventDefault(),l(4,c=null);break;case"ArrowLeft":m.preventDefault(),l(4,c=s);break;case"ArrowRight":m.preventDefault(),l(4,c=f);break}}let t=[],r;async function p(m){if(typeof m!="number")return;await te(),t[m].focus();const{left:G,width:S}=r.getBoundingClientRect(),{left:Y,width:Z}=t[m].getBoundingClientRect(),M=Y-G+Z/2-S/2+r.scrollLeft;r.scrollTo({left:M<0?0:M,behavior:"smooth"})}const g=()=>l(4,c=null),q=()=>l(4,c=f);function Q(m,G){N[m?"unshift":"push"](()=>{t[G]=m,l(5,t)})}const V=m=>l(4,c=m);function W(m){N[m?"unshift":"push"](()=>{r=m,l(6,r)})}const X=m=>l(4,c=m);return n.$$set=m=>{"loading_status"in m&&l(0,o=m.loading_status),"show_label"in m&&l(1,_=m.show_label),"label"in m&&l(2,u=m.label),"value"in m&&l(3,i=m.value),"style"in m&&l(9,a=m.style)},n.$$.update=()=>{var m,G,S;n.$$.dirty&24&&(s=((c!=null?c:0)+((m=i==null?void 0:i.length)!=null?m:0)-1)%((G=i==null?void 0:i.length)!=null?G:0)),n.$$.dirty&24&&l(7,f=((c!=null?c:0)+1)%((S=i==null?void 0:i.length)!=null?S:0)),n.$$.dirty&16&&p(c)},[o,_,u,i,c,t,r,f,h,a,g,q,Q,V,W,X]}class me extends x{constructor(e){super(),$(this,e,_e,ue,ee,{loading_status:0,show_label:1,label:2,value:3,style:9})}}var we=me;const ve=["static"];export{we as Component,ve as modes};
