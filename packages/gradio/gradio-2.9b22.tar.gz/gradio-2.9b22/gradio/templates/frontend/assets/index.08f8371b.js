import{S as U,i as z,s as E,e as v,d as B,k as b,a as _,b as d,f as g,g as S,h,n as H,m as j,z as x,_ as A,$ as F,B as G,o as p,q as k,u as y,v as w,w as C,D as I}from"./index.48448e6d.js";import{c as T}from"./colors.621f0c00.js";import{B as J}from"./Block.20c015b6.js";import{S as K}from"./StatusTracker.e2c3be5c.js";function q(r,t,n){const l=r.slice();return l[9]=t[n],l}function D(r){let t,n=r[9][0]+"",l,a,e,o,s=r[9][1]+"",i,c,m;return{c(){t=v("div"),l=B(n),e=b(),o=v("div"),i=B(s),c=b(),_(t,"data-testid","user"),_(t,"class","px-3 py-2 rounded-[22px] rounded-br-none text-white ml-7 text-sm"),_(t,"style",a="background-color:"+r[2][0]),_(o,"data-testid","bot"),_(o,"class","px-3 py-2 rounded-[22px] rounded-bl-none place-self-start text-white ml-7 text-sm"),_(o,"style",m="background-color:"+r[2][1])},m(f,u){d(f,t,u),g(t,l),d(f,e,u),d(f,o,u),g(o,i),g(o,c)},p(f,u){u&1&&n!==(n=f[9][0]+"")&&S(l,n),u&4&&a!==(a="background-color:"+f[2][0])&&_(t,"style",a),u&1&&s!==(s=f[9][1]+"")&&S(i,s),u&4&&m!==(m="background-color:"+f[2][1])&&_(o,"style",m)},d(f){f&&h(t),f&&h(e),f&&h(o)}}}function L(r){let t,n,l=r[0],a=[];for(let e=0;e<l.length;e+=1)a[e]=D(q(r,l,e));return{c(){t=v("div"),n=v("div");for(let e=0;e<a.length;e+=1)a[e].c();_(n,"class","flex flex-col items-end space-y-4 p-3"),_(t,"class","overflow-y-auto h-[40vh]")},m(e,o){d(e,t,o),g(t,n);for(let s=0;s<a.length;s+=1)a[s].m(n,null);r[5](t)},p(e,[o]){if(o&5){l=e[0];let s;for(s=0;s<l.length;s+=1){const i=q(e,l,s);a[s]?a[s].p(i,o):(a[s]=D(i),a[s].c(),a[s].m(n,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=l.length}},i:H,o:H,d(e){e&&h(t),j(a,e),r[5](null)}}}function M(r,t,n){let l,{value:a}=t,{style:e=""}=t,{color_map:o=void 0}=t,s,i;const c=x();A(()=>{i=s&&s.offsetHeight+s.scrollTop>s.scrollHeight-20}),F(()=>{i&&s.scrollTo(0,s.scrollHeight)});function m(){return o?o.map(u=>u in T?T[u].primary:u):["#fb923c","#9ca3af"]}function f(u){G[u?"unshift":"push"](()=>{s=u,n(1,s)})}return r.$$set=u=>{"value"in u&&n(0,a=u.value),"style"in u&&n(3,e=u.style),"color_map"in u&&n(4,o=u.color_map)},r.$$.update=()=>{r.$$.dirty&1&&a&&c("change")},n(2,l=m()),[a,s,l,e,o,f]}class N extends U{constructor(t){super(),z(this,t,M,L,E,{value:0,style:3,color_map:4})}}function O(r){let t,n,l,a;return t=new K({props:{tracked_status:r[3]}}),l=new N({props:{value:r[0],style:r[1],color_map:r[2]}}),l.$on("change",r[5]),{c(){p(t.$$.fragment),n=b(),p(l.$$.fragment)},m(e,o){k(t,e,o),d(e,n,o),k(l,e,o),a=!0},p(e,o){const s={};o&8&&(s.tracked_status=e[3]),t.$set(s);const i={};o&1&&(i.value=e[0]),o&2&&(i.style=e[1]),o&4&&(i.color_map=e[2]),l.$set(i)},i(e){a||(y(t.$$.fragment,e),y(l.$$.fragment,e),a=!0)},o(e){w(t.$$.fragment,e),w(l.$$.fragment,e),a=!1},d(e){C(t,e),e&&h(n),C(l,e)}}}function P(r){let t,n;return t=new J({props:{padding:!1,$$slots:{default:[O]},$$scope:{ctx:r}}}),{c(){p(t.$$.fragment)},m(l,a){k(t,l,a),n=!0},p(l,[a]){const e={};a&79&&(e.$$scope={dirty:a,ctx:l}),t.$set(e)},i(l){n||(y(t.$$.fragment,l),n=!0)},o(l){w(t.$$.fragment,l),n=!1},d(l){C(t,l)}}}function Q(r,t,n){let{value:l=[]}=t,{default_value:a}=t,{style:e=""}=t,{color_map:o}=t,{loading_status:s}=t;a&&(l=a);function i(c){I.call(this,r,c)}return r.$$set=c=>{"value"in c&&n(0,l=c.value),"default_value"in c&&n(4,a=c.default_value),"style"in c&&n(1,e=c.style),"color_map"in c&&n(2,o=c.color_map),"loading_status"in c&&n(3,s=c.loading_status)},[l,e,o,s,a,i]}class R extends U{constructor(t){super(),z(this,t,Q,P,E,{value:0,default_value:4,style:1,color_map:2,loading_status:3})}}var Z=R;const $=["static"];export{Z as Component,$ as modes};
