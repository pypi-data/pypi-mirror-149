import{S as U,i as V,s as W,j as le,b as d,n as z,h as m,e as b,a as _,R as w,d as T,k as v,f as h,g as H,m as E,l as S,r as te,o as O,q as R,u as q,v as B,w as D,z as ne}from"./index.48448e6d.js";import{c as I}from"./colors.621f0c00.js";import{g as oe}from"./color.08bfd1da.js";import{B as re}from"./Block.20c015b6.js";import{S as ae}from"./StatusTracker.e2c3be5c.js";function L(a,e,o){const t=a.slice();return t[16]=e[o][0],t[23]=e[o][1],t}function M(a,e,o){const t=a.slice();return t[16]=e[o][0],t[17]=e[o][1],t}function A(a,e,o){const t=a.slice();return t[17]=e[o][0],t[20]=e[o][1],t[22]=o,t}function se(a){let e,o,t=a[1]&&F(),r=a[0],n=[];for(let l=0;l<r.length;l+=1)n[l]=G(L(a,r,l));return{c(){t&&t.c(),e=v(),o=b("div");for(let l=0;l<n.length;l+=1)n[l].c();_(o,"class","textfield p-2 bg-white dark:bg-gray-800 rounded box-border max-w-full break-word")},m(l,i){t&&t.m(l,i),d(l,e,i),d(l,o,i);for(let s=0;s<n.length;s+=1)n[s].m(o,null)},p(l,i){if(l[1]?t||(t=F(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),i&1){r=l[0];let s;for(s=0;s<r.length;s+=1){const f=L(l,r,s);n[s]?n[s].p(f,i):(n[s]=G(f),n[s].c(),n[s].m(o,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(l){t&&t.d(l),l&&m(e),l&&m(o),E(n,l)}}}function ie(a){let e,o,t=a[1]&&J(a),r=a[0],n=[];for(let l=0;l<r.length;l+=1)n[l]=Q(M(a,r,l));return{c(){t&&t.c(),e=v(),o=b("div");for(let l=0;l<n.length;l+=1)n[l].c();_(o,"class","textfield bg-white dark:bg-gray-800 rounded-sm box-border max-w-full break-word inline-flex flex-wrap gap-1")},m(l,i){t&&t.m(l,i),d(l,e,i),d(l,o,i);for(let s=0;s<n.length;s+=1)n[s].m(o,null)},p(l,i){if(l[1]?t?t.p(l,i):(t=J(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),i&15){r=l[0];let s;for(s=0;s<r.length;s+=1){const f=M(l,r,s);n[s]?n[s].p(f,i):(n[s]=Q(f),n[s].c(),n[s].m(o,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(l){t&&t.d(l),l&&m(e),l&&m(o),E(n,l)}}}function F(a){let e;return{c(){e=b("div"),e.innerHTML=`<span>-1</span> 
			<span>0</span> 
			<span>+1</span>`,_(e,"class","color_legend flex px-2 py-1 justify-between rounded mb-3 font-semibold"),w(e,"background","-webkit-linear-gradient(to right,#8d83d6,(255,255,255,0),#eb4d4b)"),w(e,"background","linear-gradient(to right,#8d83d6,rgba(255,255,255,0),#eb4d4b)")},m(o,t){d(o,e,t)},d(o){o&&m(e)}}}function G(a){let e,o,t=a[16]+"",r,n,l;return{c(){e=b("span"),o=b("span"),r=T(t),n=v(),_(o,"class","text dark:text-white"),_(e,"class","textspan p-1 mr-0.5 bg-opacity-20 dark:bg-opacity-80 rounded-sm"),_(e,"style",l="background-color: rgba("+(a[23]<0?"141, 131, 214,"+-a[23]:"235, 77, 75,"+a[23])+")")},m(i,s){d(i,e,s),h(e,o),h(o,r),h(e,n)},p(i,s){s&1&&t!==(t=i[16]+"")&&H(r,t),s&1&&l!==(l="background-color: rgba("+(i[23]<0?"141, 131, 214,"+-i[23]:"235, 77, 75,"+i[23])+")")&&_(e,"style",l)},d(i){i&&m(e)}}}function J(a){let e,o=Object.entries(a[2]),t=[];for(let r=0;r<o.length;r+=1)t[r]=K(A(a,o,r));return{c(){e=b("div");for(let r=0;r<t.length;r+=1)t[r].c();_(e,"class","category-legend flex flex-wrap gap-1 mb-2")},m(r,n){d(r,e,n);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(r,n){if(n&100){o=Object.entries(r[2]);let l;for(l=0;l<o.length;l+=1){const i=A(r,o,l);t[l]?t[l].p(i,n):(t[l]=K(i),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=o.length}},d(r){r&&m(e),E(t,r)}}}function K(a){let e,o=a[17]+"",t,r,n,l,i;function s(){return a[9](a[17])}function f(){return a[10](a[17])}function c(){return a[11](a[17])}function j(){return a[12](a[17])}return{c(){e=b("div"),t=T(o),r=v(),_(e,"class","category-label px-2 rounded-sm font-semibold cursor-pointer"),_(e,"style",n="background-color:"+a[20].secondary)},m(p,y){d(p,e,y),h(e,t),h(e,r),l||(i=[S(e,"mouseover",s),S(e,"focus",f),S(e,"mouseout",c),S(e,"blur",j)],l=!0)},p(p,y){a=p,y&4&&o!==(o=a[17]+"")&&H(t,o),y&4&&n!==(n="background-color:"+a[20].secondary)&&_(e,"style",n)},d(p){p&&m(e),l=!1,te(i)}}}function P(a){let e,o=a[17]+"",t;return{c(){e=b("span"),t=T(o),_(e,"class","inline-category text-xs text-white rounded-sm px-1 transition-colors"),w(e,"background-color",a[17]===null||a[3]&&a[3]!==a[17]?"":a[2][a[17]].primary,!1)},m(r,n){d(r,e,n),h(e,t)},p(r,n){n&1&&o!==(o=r[17]+"")&&H(t,o),n&13&&w(e,"background-color",r[17]===null||r[3]&&r[3]!==r[17]?"":r[2][r[17]].primary,!1)},d(r){r&&m(e)}}}function Q(a){let e,o,t=a[16]+"",r,n,l,i=!a[1]&&a[17]!==null&&P(a);return{c(){e=b("span"),o=b("span"),r=T(t),n=v(),i&&i.c(),l=v(),_(o,"class","text dark:text-white"),_(e,"class","textspan bg-opacity-10 rounded-sm inline-flex items-center px-1.5 space-x-1.5 transition-colors"),w(e,"background-color",a[17]===null||a[3]&&a[3]!==a[17]?"":a[2][a[17]].secondary,!1)},m(s,f){d(s,e,f),h(e,o),h(o,r),h(e,n),i&&i.m(e,null),h(e,l)},p(s,f){f&1&&t!==(t=s[16]+"")&&H(r,t),!s[1]&&s[17]!==null?i?i.p(s,f):(i=P(s),i.c(),i.m(e,l)):i&&(i.d(1),i=null),f&13&&w(e,"background-color",s[17]===null||s[3]&&s[3]!==s[17]?"":s[2][s[17]].secondary,!1)},d(s){s&&m(e),i&&i.d()}}}function fe(a){let e;function o(n,l){return n[4]==="categories"?ie:se}let t=o(a),r=t(a);return{c(){r.c(),e=le()},m(n,l){r.m(n,l),d(n,e,l)},p(n,[l]){t===(t=o(n))&&r?r.p(n,l):(r.d(1),r=t(n),r&&(r.c(),r.m(e.parentNode,e)))},i:z,o:z,d(n){r.d(n),n&&m(e)}}}function ue(a,e,o){const t=typeof document!="undefined";let{value:r=[]}=e,{show_legend:n=!1}=e,{color_map:l={}}=e,{style:i=""}=e,s,f={},c="";function j(u,g){if(!s){var k=document.createElement("canvas");s=k.getContext("2d")}s.fillStyle=u,s.fillRect(0,0,1,1);const[N,$,ee]=s.getImageData(0,0,1,1).data;return s.clearRect(0,0,1,1),`rgba(${N}, ${$}, ${ee}, ${255/g})`}let p;l===null&&(l={});function y(u){o(3,c=u)}function C(u){o(3,c="")}const X=u=>y(u),Y=u=>y(u),Z=u=>C(),x=u=>C();return a.$$set=u=>{"value"in u&&o(0,r=u.value),"show_legend"in u&&o(1,n=u.show_legend),"color_map"in u&&o(7,l=u.color_map),"style"in u&&o(8,i=u.style)},a.$$.update=()=>{if(a.$$.dirty&129){let u=function(){for(const g in l){const k=l[g].trim();k in I?o(2,f[g]=I[k],f):o(2,f[g]={primary:t?j(l[g],1):l[g],secondary:t?j(l[g],.5):l[g]},f)}};if(r.length>0){for(let[g,k]of r)if(k!==null)if(typeof k=="string"){if(o(4,p="categories"),!(k in l)){let N=oe(Object.keys(l).length);o(7,l[k]=N,l)}}else o(4,p="scores")}u()}},[r,n,f,c,p,y,C,l,i,X,Y,Z,x]}class ce extends U{constructor(e){super(),V(this,e,ue,fe,W,{value:0,show_legend:1,color_map:7,style:8})}}function _e(a){let e,o,t,r;return e=new ae({props:{tracked_status:a[4]}}),t=new ce({props:{value:a[0],style:a[1],show_legend:a[2],color_map:a[3]}}),{c(){O(e.$$.fragment),o=v(),O(t.$$.fragment)},m(n,l){R(e,n,l),d(n,o,l),R(t,n,l),r=!0},p(n,l){const i={};l&16&&(i.tracked_status=n[4]),e.$set(i);const s={};l&1&&(s.value=n[0]),l&2&&(s.style=n[1]),l&4&&(s.show_legend=n[2]),l&8&&(s.color_map=n[3]),t.$set(s)},i(n){r||(q(e.$$.fragment,n),q(t.$$.fragment,n),r=!0)},o(n){B(e.$$.fragment,n),B(t.$$.fragment,n),r=!1},d(n){D(e,n),n&&m(o),D(t,n)}}}function de(a){let e,o;return e=new re({props:{$$slots:{default:[_e]},$$scope:{ctx:a}}}),{c(){O(e.$$.fragment)},m(t,r){R(e,t,r),o=!0},p(t,[r]){const n={};r&159&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){o||(q(e.$$.fragment,t),o=!0)},o(t){B(e.$$.fragment,t),o=!1},d(t){D(e,t)}}}function me(a,e,o){let{value:t}=e,{default_value:r}=e,{style:n=""}=e,{show_legend:l}=e,{color_map:i={}}=e,{loading_status:s}=e;const f=ne();return r&&(t=r),a.$$set=c=>{"value"in c&&o(0,t=c.value),"default_value"in c&&o(5,r=c.default_value),"style"in c&&o(1,n=c.style),"show_legend"in c&&o(2,l=c.show_legend),"color_map"in c&&o(3,i=c.color_map),"loading_status"in c&&o(4,s=c.loading_status)},a.$$.update=()=>{a.$$.dirty&1&&f("change")},[t,n,l,i,s,r]}class ge extends U{constructor(e){super(),V(this,e,me,de,W,{value:0,default_value:5,style:1,show_legend:2,color_map:3,loading_status:4})}}var ve=ge;const we=["static"];export{ve as Component,we as modes};
