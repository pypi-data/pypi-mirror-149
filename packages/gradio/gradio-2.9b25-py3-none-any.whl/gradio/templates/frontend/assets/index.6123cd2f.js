import{S as x,i as $,s as ee,o as A,q as E,u as y,v as q,w as M,J as le,k as B,j as te,b as w,K as ne,L as se,x as O,y as P,h as v,_ as oe,B as z,e as d,a as p,F as j,f as k,l as N,m as Q,r as re,n as R}from"./index.61dd5212.js";import{B as ie}from"./Block.0ce8dc17.js";import{B as ae}from"./BlockLabel.2206cae0.js";import{M as ce}from"./ModifyUpload.d58e23aa.js";import{S as fe}from"./StatusTracker.ad85499d.js";var V="./assets/image.45facf29.svg";function F(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function J(t,e,l){const n=t.slice();return n[18]=e[l],n[21]=e,n[20]=l,n}function ue(t){let e,l,n,a,s=t[4]!==null&&K(t),_=t[3],u=[];for(let r=0;r<_.length;r+=1)u[r]=I(F(t,_,r));let o=null;return _.length||(o=H()),{c(){s&&s.c(),e=B(),l=d("div"),n=d("div");for(let r=0;r<u.length;r+=1)u[r].c();o&&o.c(),p(n,"class","pt-6 grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 svelte-1bwm9qh"),p(l,"class","overflow-y-auto h-full p-2 min-h-[350px] xl:min-h-[450px] max-h-[55vh] svelte-1bwm9qh")},m(r,m){s&&s.m(r,m),w(r,e,m),w(r,l,m),k(l,n);for(let b=0;b<u.length;b+=1)u[b].m(n,null);o&&o.m(n,null),a=!0},p(r,m){if(r[4]!==null?s?(s.p(r,m),m&16&&y(s,1)):(s=K(r),s.c(),y(s,1),s.m(e.parentNode,e)):s&&(O(),q(s,1,1,()=>{s=null}),P()),m&24){_=r[3];let b;for(b=0;b<_.length;b+=1){const c=F(r,_,b);u[b]?u[b].p(c,m):(u[b]=I(c),u[b].c(),u[b].m(n,null))}for(;b<u.length;b+=1)u[b].d(1);u.length=_.length,!_.length&&o?o.p(r,m):_.length?o&&(o.d(1),o=null):(o=H(),o.c(),o.m(n,null))}},i(r){a||(y(s),a=!0)},o(r){q(s),a=!1},d(r){s&&s.d(r),r&&v(e),r&&v(l),Q(u,r),o&&o.d()}}}function _e(t){let e,l,n;return{c(){e=d("div"),l=d("img"),j(l.src,n=V)||p(l,"src",n),p(l,"alt",""),p(l,"class","h-6 opacity-20 svelte-1bwm9qh"),p(e,"class","min-h-[16rem] flex justify-center items-center svelte-1bwm9qh")},m(a,s){w(a,e,s),k(e,l)},p:R,i:R,o:R,d(a){a&&v(e)}}}function K(t){let e,l,n,a,s,_,u,o,r,m;l=new ce({}),l.$on("clear",t[10]);let b=t[3],c=[];for(let f=0;f<b.length;f+=1)c[f]=U(J(t,b,f));return{c(){e=d("div"),A(l.$$.fragment),n=B(),a=d("img"),_=B(),u=d("div");for(let f=0;f<c.length;f+=1)c[f].c();p(a,"class","w-full object-contain h-[calc(100%-50px)] svelte-1bwm9qh"),j(a.src,s=t[3][t[4]])||p(a,"src",s),p(a,"alt",""),p(u,"class","absolute h-[50px] bg-white overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 svelte-1bwm9qh"),p(e,"class","absolute inset-0 z-10 flex flex-col bg-white/90 backdrop-blur min-h-[350px] xl:min-h-[450px] max-h-[55vh] svelte-1bwm9qh")},m(f,i){w(f,e,i),E(l,e,null),k(e,n),k(e,a),k(e,_),k(e,u);for(let h=0;h<c.length;h+=1)c[h].m(u,null);t[14](u),o=!0,r||(m=[N(a,"click",t[11]),N(e,"keydown",t[8])],r=!0)},p(f,i){if((!o||i&24&&!j(a.src,s=f[3][f[4]]))&&p(a,"src",s),i&56){b=f[3];let h;for(h=0;h<b.length;h+=1){const C=J(f,b,h);c[h]?c[h].p(C,i):(c[h]=U(C),c[h].c(),c[h].m(u,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=b.length}},i(f){o||(y(l.$$.fragment,f),o=!0)},o(f){q(l.$$.fragment,f),o=!1},d(f){f&&v(e),M(l),Q(c,f),t[14](null),r=!1,re(m)}}}function U(t){let e,l,n,a,s,_=t[20],u,o;const r=()=>t[12](e,_),m=()=>t[12](null,_);function b(){return t[13](t[20])}return{c(){e=d("button"),l=d("img"),a=B(),p(l,"alt",""),p(l,"class","h-full w-full overflow-hidden object-contain svelte-1bwm9qh"),j(l.src,n=t[18])||p(l,"src",n),p(e,"class",s="gallery-item !flex-none !h-7 !w-7 transition-all duration-75 "+(t[4]===t[20]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1bwm9qh")},m(c,f){w(c,e,f),k(e,l),k(e,a),r(),u||(o=N(e,"click",b),u=!0)},p(c,f){t=c,f&8&&!j(l.src,n=t[18])&&p(l,"src",n),f&16&&s!==(s="gallery-item !flex-none !h-7 !w-7 transition-all duration-75 "+(t[4]===t[20]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1bwm9qh")&&p(e,"class",s),_!==t[20]&&(m(),_=t[20],r())},d(c){c&&v(e),m(),u=!1,o()}}}function H(t){let e;return{c(){e=d("p"),e.textContent="Empty",p(e,"class","svelte-1bwm9qh")},m(l,n){w(l,e,n)},p:R,d(l){l&&v(e)}}}function I(t){let e,l,n,a,s,_;function u(){return t[15](t[20])}return{c(){e=d("button"),l=d("img"),a=B(),p(l,"alt",""),p(l,"class","h-full w-full overflow-hidden object-contain svelte-1bwm9qh"),j(l.src,n=t[18])||p(l,"src",n),p(e,"class","gallery-item svelte-1bwm9qh")},m(o,r){w(o,e,r),k(e,l),k(e,a),s||(_=N(e,"click",u),s=!0)},p(o,r){t=o,r&8&&!j(l.src,n=t[18])&&p(l,"src",n)},d(o){o&&v(e),s=!1,_()}}}function me(t){let e,l,n,a,s,_,u,o;const r=[t[0]];let m={};for(let i=0;i<r.length;i+=1)m=le(m,r[i]);e=new fe({props:m}),n=new ae({props:{show_label:t[1],image:V,label:t[2]||"Gallery"}});const b=[_e,ue],c=[];function f(i,h){return i[3]===null?0:1}return s=f(t),_=c[s]=b[s](t),{c(){A(e.$$.fragment),l=B(),A(n.$$.fragment),a=B(),_.c(),u=te()},m(i,h){E(e,i,h),w(i,l,h),E(n,i,h),w(i,a,h),c[s].m(i,h),w(i,u,h),o=!0},p(i,h){const C=h&1?ne(r,[se(i[0])]):{};e.$set(C);const L={};h&2&&(L.show_label=i[1]),h&4&&(L.label=i[2]||"Gallery"),n.$set(L);let S=s;s=f(i),s===S?c[s].p(i,h):(O(),q(c[S],1,1,()=>{c[S]=null}),P(),_=c[s],_?_.p(i,h):(_=c[s]=b[s](i),_.c()),y(_,1),_.m(u.parentNode,u))},i(i){o||(y(e.$$.fragment,i),y(n.$$.fragment,i),y(_),o=!0)},o(i){q(e.$$.fragment,i),q(n.$$.fragment,i),q(_),o=!1},d(i){M(e,i),i&&v(l),M(n,i),i&&v(a),c[s].d(i),i&&v(u)}}}function he(t){let e,l;return e=new ie({props:{variant:"solid",color:"grey",padding:!1,$$slots:{default:[me]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(n,a){E(e,n,a),l=!0},p(n,[a]){const s={};a&4194559&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){q(e.$$.fragment,n),l=!1},d(n){M(e,n)}}}function ge(t,e,l){let n,a,{loading_status:s}=e,{show_label:_}=e,{label:u}=e,{value:o=null}=e,{style:r=""}=e,m=null;function b(g){switch(g.code){case"Escape":g.preventDefault(),l(4,m=null);break;case"ArrowLeft":g.preventDefault(),l(4,m=n);break;case"ArrowRight":g.preventDefault(),l(4,m=a);break}}let c=[],f;async function i(g){if(typeof g!="number")return;await oe(),c[g].focus();const{left:G,width:D}=f.getBoundingClientRect(),{left:Y,width:Z}=c[g].getBoundingClientRect(),T=Y-G+Z/2-D/2+f.scrollLeft;f.scrollTo({left:T<0?0:T,behavior:"smooth"})}const h=()=>l(4,m=null),C=()=>l(4,m=a);function L(g,G){z[g?"unshift":"push"](()=>{c[G]=g,l(5,c)})}const S=g=>l(4,m=g);function W(g){z[g?"unshift":"push"](()=>{f=g,l(6,f)})}const X=g=>l(4,m=g);return t.$$set=g=>{"loading_status"in g&&l(0,s=g.loading_status),"show_label"in g&&l(1,_=g.show_label),"label"in g&&l(2,u=g.label),"value"in g&&l(3,o=g.value),"style"in g&&l(9,r=g.style)},t.$$.update=()=>{var g,G,D;t.$$.dirty&24&&(n=((m!=null?m:0)+((g=o==null?void 0:o.length)!=null?g:0)-1)%((G=o==null?void 0:o.length)!=null?G:0)),t.$$.dirty&24&&l(7,a=((m!=null?m:0)+1)%((D=o==null?void 0:o.length)!=null?D:0)),t.$$.dirty&16&&i(m)},[s,_,u,o,m,c,f,a,b,r,h,C,L,S,W,X]}class be extends x{constructor(e){super(),$(this,e,ge,he,ee,{loading_status:0,show_label:1,label:2,value:3,style:9})}}var qe=be;const Be=["static"];export{qe as Component,Be as modes};
