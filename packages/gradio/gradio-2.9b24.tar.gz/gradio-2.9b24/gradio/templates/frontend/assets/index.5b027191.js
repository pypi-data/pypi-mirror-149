import{S as q,i as E,s as H,o as U,k as F,j as K,q as D,b as h,u as y,v as B,w as M,h as v,e as N,a as g,n as X,U as L,d as z,f as k,g as S,x as I,y as J,z as Y,Y as A,B as O,H as Q,E as R,I as W,X as Z,J as x,K as $,L as ee,D as V}from"./index.c156a17d.js";import{B as P}from"./BlockLabel.b1c990fc.js";import{U as le}from"./Upload.b07f7019.js";import{M as te}from"./ModifyUpload.0db0101e.js";import{B as ae}from"./Block.dfe8f898.js";import{n as ne}from"./utils.49185b04.js";import{S as fe}from"./StatusTracker.f0d63e01.js";const C=a=>{let e=["B","KB","MB","GB","PB"],t=0;for(;a>1024;)a/=1024,t++;let l=e[t];return a.toFixed(1)+" "+l};var T="./assets/file.ffdbce7d.svg";function ie(a){let e;return{c(){e=N("div"),g(e,"class","min-h-[8rem]")},m(t,l){h(t,e,l)},p:X,d(t){t&&v(e)}}}function oe(a){let e,t,l,n,i,s=a[0].name+"",u,o,d,f=(isNaN(a[0].size||NaN)?"":C(a[0].size||0))+"",_,r,m;return{c(){e=N("a"),t=L("svg"),l=L("path"),n=F(),i=N("div"),u=z(s),o=F(),d=N("div"),_=z(f),g(l,"stroke-linecap","round"),g(l,"stroke-linejoin","round"),g(l,"stroke-width","2"),g(l,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"class","h-10 w-1/5"),g(t,"fill","none"),g(t,"viewBox","0 0 24 24"),g(t,"stroke","currentColor"),g(i,"class","file-name w-3/5 text-4xl p-6 break-all"),g(d,"class","text-2xl p-2"),g(e,"class","output-file w-full h-full flex flex-row flex-wrap justify-center items-center relative"),g(e,"href",r=a[0].data),g(e,"download",m=a[0].name),g(e,"style",a[1])},m(w,c){h(w,e,c),k(e,t),k(t,l),k(e,n),k(e,i),k(i,u),k(e,o),k(e,d),k(d,_)},p(w,c){c&1&&s!==(s=w[0].name+"")&&S(u,s),c&1&&f!==(f=(isNaN(w[0].size||NaN)?"":C(w[0].size||0))+"")&&S(_,f),c&1&&r!==(r=w[0].data)&&g(e,"href",r),c&1&&m!==(m=w[0].name)&&g(e,"download",m),c&2&&g(e,"style",w[1])},d(w){w&&v(e)}}}function se(a){let e,t,l,n;e=new P({props:{show_label:a[3],image:T,label:a[2]||"File"}});function i(o,d){return o[0]?oe:ie}let s=i(a),u=s(a);return{c(){U(e.$$.fragment),t=F(),u.c(),l=K()},m(o,d){D(e,o,d),h(o,t,d),u.m(o,d),h(o,l,d),n=!0},p(o,[d]){const f={};d&8&&(f.show_label=o[3]),d&4&&(f.label=o[2]||"File"),e.$set(f),s===(s=i(o))&&u?u.p(o,d):(u.d(1),u=s(o),u&&(u.c(),u.m(l.parentNode,l)))},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){M(e,o),o&&v(t),u.d(o),o&&v(l)}}}function ue(a,e,t){let{value:l}=e,{style:n=""}=e,{label:i}=e,{show_label:s}=e;return a.$$set=u=>{"value"in u&&t(0,l=u.value),"style"in u&&t(1,n=u.style),"label"in u&&t(2,i=u.label),"show_label"in u&&t(3,s=u.show_label)},[l,n,i,s]}class re extends q{constructor(e){super(),E(this,e,ue,se,H,{value:0,style:1,label:2,show_label:3})}}function _e(a){let e,t,l,n,i=G(a[0].name)+"",s,u,o,d=C(a[0].size||0)+"",f,_,r,m,w,c,j;return t=new te({props:{absolute:!0}}),t.$on("clear",a[8]),{c(){e=N("div"),U(t.$$.fragment),l=F(),n=N("div"),s=z(i),u=F(),o=N("div"),f=z(d),_=F(),r=N("div"),m=N("a"),w=z("Download"),g(n,"class","file-name p-2"),g(o,"class","file-size p-2"),g(m,"href",c=a[0].data),g(m,"download",""),g(m,"class","text-indigo-600 hover:underline"),g(r,"class","file-size p-2 hover:underline"),g(e,"class","file-preview w-full flex flex-row justify-between overflow-y-auto mt-7")},m(p,b){h(p,e,b),D(t,e,null),k(e,l),k(e,n),k(n,s),k(e,u),k(e,o),k(o,f),k(e,_),k(e,r),k(r,m),k(m,w),j=!0},p(p,b){(!j||b&1)&&i!==(i=G(p[0].name)+"")&&S(s,i),(!j||b&1)&&d!==(d=C(p[0].size||0)+"")&&S(f,d),(!j||b&1&&c!==(c=p[0].data))&&g(m,"href",c)},i(p){j||(y(t.$$.fragment,p),j=!0)},o(p){B(t.$$.fragment,p),j=!1},d(p){p&&v(e),M(t)}}}function ce(a){let e,t,l;function n(s){a[10](s)}let i={filetype:"file",$$slots:{default:[de]},$$scope:{ctx:a}};return a[6]!==void 0&&(i.dragging=a[6]),e=new le({props:i}),O.push(()=>Q(e,"dragging",n)),e.$on("load",a[7]),{c(){U(e.$$.fragment)},m(s,u){D(e,s,u),l=!0},p(s,u){const o={};u&4110&&(o.$$scope={dirty:u,ctx:s}),!t&&u&64&&(t=!0,o.dragging=s[6],R(()=>t=!1)),e.$set(o)},i(s){l||(y(e.$$.fragment,s),l=!0)},o(s){B(e.$$.fragment,s),l=!1},d(s){M(e,s)}}}function de(a){let e,t,l,n,i,s,u,o,d;return{c(){e=z(a[1]),t=F(),l=N("br"),n=z("- "),i=z(a[2]),s=z(" -"),u=N("br"),o=F(),d=z(a[3])},m(f,_){h(f,e,_),h(f,t,_),h(f,l,_),h(f,n,_),h(f,i,_),h(f,s,_),h(f,u,_),h(f,o,_),h(f,d,_)},p(f,_){_&2&&S(e,f[1]),_&4&&S(i,f[2]),_&8&&S(d,f[3])},d(f){f&&v(e),f&&v(t),f&&v(l),f&&v(n),f&&v(i),f&&v(s),f&&v(u),f&&v(o),f&&v(d)}}}function me(a){let e,t,l,n,i,s;e=new P({props:{show_label:a[5],image:T,label:a[4]||"File"}});const u=[ce,_e],o=[];function d(f,_){return f[0]===null?0:1}return l=d(a),n=o[l]=u[l](a),{c(){U(e.$$.fragment),t=F(),n.c(),i=K()},m(f,_){D(e,f,_),h(f,t,_),o[l].m(f,_),h(f,i,_),s=!0},p(f,[_]){const r={};_&32&&(r.show_label=f[5]),_&16&&(r.label=f[4]||"File"),e.$set(r);let m=l;l=d(f),l===m?o[l].p(f,_):(I(),B(o[m],1,1,()=>{o[m]=null}),J(),n=o[l],n?n.p(f,_):(n=o[l]=u[l](f),n.c()),y(n,1),n.m(i.parentNode,i))},i(f){s||(y(e.$$.fragment,f),y(n),s=!0)},o(f){B(e.$$.fragment,f),B(n),s=!1},d(f){M(e,f),f&&v(t),o[l].d(f),f&&v(i)}}}function G(a){return a.length>30?`${a.substr(0,30)}...`:a}function be(a,e,t){let{value:l}=e,{drop_text:n="Drop a file"}=e,{or_text:i="or"}=e,{upload_text:s="click to upload"}=e,{label:u=""}=e,{style:o}=e,{show_label:d}=e;async function f({detail:c}){t(0,l=c),await A(),r("change",l)}function _({detail:c}){t(0,l=null),r("change",l),r("clear")}const r=Y();let m=!1;function w(c){m=c,t(6,m)}return a.$$set=c=>{"value"in c&&t(0,l=c.value),"drop_text"in c&&t(1,n=c.drop_text),"or_text"in c&&t(2,i=c.or_text),"upload_text"in c&&t(3,s=c.upload_text),"label"in c&&t(4,u=c.label),"style"in c&&t(9,o=c.style),"show_label"in c&&t(5,d=c.show_label)},a.$$.update=()=>{a.$$.dirty&64&&r("drag",m)},[l,n,i,s,u,d,m,f,_,o,w]}class ge extends q{constructor(e){super(),E(this,e,be,me,H,{value:0,drop_text:1,or_text:2,upload_text:3,label:4,style:9,show_label:5})}}function we(a){let e,t;return e=new re({props:{value:a[6],style:a[1],label:a[3],show_label:a[4]}}),{c(){U(e.$$.fragment)},m(l,n){D(e,l,n),t=!0},p(l,n){const i={};n&64&&(i.value=l[6]),n&2&&(i.style=l[1]),n&8&&(i.label=l[3]),n&16&&(i.show_label=l[4]),e.$set(i)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ke(a){let e,t;return e=new ge({props:{label:a[3],show_label:a[4],value:a[6],drop_text:a[8]("interface.drop_file"),or_text:a[8]("or"),upload_text:a[8]("interface.click_to_upload")}}),e.$on("change",a[11]),e.$on("drag",a[12]),e.$on("change",a[13]),e.$on("clear",a[14]),{c(){U(e.$$.fragment)},m(l,n){D(e,l,n),t=!0},p(l,n){const i={};n&8&&(i.label=l[3]),n&16&&(i.show_label=l[4]),n&64&&(i.value=l[6]),n&256&&(i.drop_text=l[8]("interface.drop_file")),n&256&&(i.or_text=l[8]("or")),n&256&&(i.upload_text=l[8]("interface.click_to_upload")),e.$set(i)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function he(a){let e,t,l,n,i,s;const u=[a[5]];let o={};for(let r=0;r<u.length;r+=1)o=x(o,u[r]);e=new fe({props:o});const d=[ke,we],f=[];function _(r,m){return r[2]==="dynamic"?0:1}return l=_(a),n=f[l]=d[l](a),{c(){U(e.$$.fragment),t=F(),n.c(),i=K()},m(r,m){D(e,r,m),h(r,t,m),f[l].m(r,m),h(r,i,m),s=!0},p(r,m){const w=m&32?$(u,[ee(r[5])]):{};e.$set(w);let c=l;l=_(r),l===c?f[l].p(r,m):(I(),B(f[c],1,1,()=>{f[c]=null}),J(),n=f[l],n?n.p(r,m):(n=f[l]=d[l](r),n.c()),y(n,1),n.m(i.parentNode,i))},i(r){s||(y(e.$$.fragment,r),y(n),s=!0)},o(r){B(e.$$.fragment,r),B(n),s=!1},d(r){M(e,r),r&&v(t),f[l].d(r),r&&v(i)}}}function ve(a){let e,t;return e=new ae({props:{variant:a[2]==="dynamic"&&a[0]===null?"dashed":"solid",color:a[7]?"green":"grey",padding:!1,$$slots:{default:[he]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment)},m(l,n){D(e,l,n),t=!0},p(l,[n]){const i={};n&5&&(i.variant=l[2]==="dynamic"&&l[0]===null?"dashed":"solid"),n&128&&(i.color=l[7]?"green":"grey"),n&33279&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function pe(a,e,t){let l;W(a,Z,b=>t(8,l=b));let{value:n=null}=e,{default_value:i=null}=e,{style:s=""}=e,{mode:u}=e,{root:o}=e,{label:d}=e,{show_label:f}=e,{loading_status:_}=e;i&&(n=i);let r,m=!1;const w=({detail:b})=>t(0,n=b),c=({detail:b})=>t(7,m=b);function j(b){V.call(this,a,b)}function p(b){V.call(this,a,b)}return a.$$set=b=>{"value"in b&&t(0,n=b.value),"default_value"in b&&t(9,i=b.default_value),"style"in b&&t(1,s=b.style),"mode"in b&&t(2,u=b.mode),"root"in b&&t(10,o=b.root),"label"in b&&t(3,d=b.label),"show_label"in b&&t(4,f=b.show_label),"loading_status"in b&&t(5,_=b.loading_status)},a.$$.update=()=>{a.$$.dirty&1025&&t(6,r=ne(n,o))},[n,s,u,d,f,_,r,m,l,i,o,w,c,j,p]}class ye extends q{constructor(e){super(),E(this,e,pe,ve,H,{value:0,default_value:9,style:1,mode:2,root:10,label:3,show_label:4,loading_status:5})}}var Me=ye;const Se=["static","dynamic"];export{Me as Component,Se as modes};
