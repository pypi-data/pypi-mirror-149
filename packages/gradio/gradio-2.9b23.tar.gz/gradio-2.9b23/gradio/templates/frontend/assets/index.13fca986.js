import{S as ne,i as se,s as re,e as L,d as ae,k as C,Q as O,a as h,t as q,b as z,f as v,l as N,g as ue,h as B,r as E,a0 as F,n as R,j as pe,z as ie,a1 as Q,a2 as Y,U as j,B as ye,o as U,q as V,u as Z,v as G,w as I}from"./index.48448e6d.js";import{S as we}from"./StatusTracker.e2c3be5c.js";function K(s,e,t){const l=s.slice();return l[35]=e[t],l[37]=t,l}function P(s,e,t){const l=s.slice();return l[38]=e[t].value,l[39]=e[t].id,l[40]=e,l[41]=t,l}function W(s,e,t){const l=s.slice();return l[38]=e[t].value,l[39]=e[t].id,l[42]=e,l[37]=t,l}function X(s,e){let t,l,n,o=e[38]+"",f,_,a,r,d,c,H,T,k,A;function p(...u){return e[16](e[38],e[42],e[37],...u)}function y(){return e[17](e[37])}return{key:s,first:null,c(){t=L("th"),l=L("div"),n=L("div"),f=ae(o),_=C(),a=L("div"),r=O("svg"),d=O("path"),T=C(),h(n,"class","py-2 pl-2 flex-1 outline-none"),h(n,"contenteditable",e[0]),h(d,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),h(r,"width","1em"),h(r,"height","1em"),h(r,"class","fill-current text-[10px]"),h(r,"viewBox","0 0 9 7"),h(r,"fill","none"),h(r,"xmlns","http://www.w3.org/2000/svg"),h(a,"class",c="flex items-center justify-center p-2 cursor-pointer !visible leading-snug transform transition-all "+(e[7]!==e[37]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[7]===e[37]&&e[6]==="des"?"-scale-y-[1]":"")),q(a,"text-gray-200",e[7]!==e[37]),h(l,"class",H="flex outline-none focus-within:ring-1 ring-orange-500 focus-within:bg-orange-50 ring-inset "+(e[37]===0?"rounded-tl-lg":e[37]===e[5].length-1?"rounded-tr-lg":"")),h(t,"class","p-0 relative"),this.first=t},m(u,g){z(u,t,g),v(t,l),v(l,n),v(n,f),v(l,_),v(l,a),v(a,r),v(r,d),v(t,T),k||(A=[N(n,"input",p),N(a,"click",y)],k=!0)},p(u,g){e=u,g[0]&32&&o!==(o=e[38]+"")&&ue(f,o),g[0]&1&&h(n,"contenteditable",e[0]),g[0]&224&&c!==(c="flex items-center justify-center p-2 cursor-pointer !visible leading-snug transform transition-all "+(e[7]!==e[37]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[7]===e[37]&&e[6]==="des"?"-scale-y-[1]":""))&&h(a,"class",c),g[0]&224&&q(a,"text-gray-200",e[7]!==e[37]),g[0]&32&&H!==(H="flex outline-none focus-within:ring-1 ring-orange-500 focus-within:bg-orange-50 ring-inset "+(e[37]===0?"rounded-tl-lg":e[37]===e[5].length-1?"rounded-tr-lg":""))&&h(l,"class",H)},d(u){u&&B(t),k=!1,E(A)}}}function x(s){let e,t=s[39],l,n;function o(){s[18].call(e,s[40],s[41])}const f=()=>s[19](e,t),_=()=>s[19](null,t);return{c(){e=L("input"),h(e,"class","outline-none absolute p-0 w-3/4"),h(e,"tabindex","-1")},m(a,r){z(a,e,r),Q(e,s[38]),f(),l||(n=[N(e,"input",o),N(e,"blur",ke)],l=!0)},p(a,r){s=a,r[0]&8&&e.value!==s[38]&&Q(e,s[38]),t!==s[39]&&(_(),t=s[39],f())},d(a){a&&B(e),_(),l=!1,E(n)}}}function $(s,e){var T;let t,l,n,o,f=((T=e[38])!=null?T:"")+"",_,a,r,d,c=e[1]===e[39]&&x(e);function H(...k){return e[20](e[38],e[40],e[41],...k)}return{key:s,first:null,c(){t=L("td"),l=L("div"),c&&c.c(),n=C(),o=L("span"),_=ae(f),h(o,"class","cursor-default w-full"),h(o,"tabindex","-1"),h(o,"role","button"),q(o,"opacity-0",e[1]===e[39]),h(l,"class",a="min-h-[3.3rem] px-5 py-3 border-[0.125rem] "+(e[2]===e[39]?"border-gray-600 dark:border-gray-200":"")),q(l,"border-transparent",e[2]!==e[39]),h(t,"class","p-2 outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg"),h(t,"contenteditable",e[0]),this.first=t},m(k,A){z(k,t,A),v(t,l),c&&c.m(l,null),v(l,n),v(l,o),v(o,_),r||(d=N(t,"input",H),r=!0)},p(k,A){var p;e=k,e[1]===e[39]?c?c.p(e,A):(c=x(e),c.c(),c.m(l,n)):c&&(c.d(1),c=null),A[0]&8&&f!==(f=((p=e[38])!=null?p:"")+"")&&ue(_,f),A[0]&10&&q(o,"opacity-0",e[1]===e[39]),A[0]&12&&a!==(a="min-h-[3.3rem] px-5 py-3 border-[0.125rem] "+(e[2]===e[39]?"border-gray-600 dark:border-gray-200":""))&&h(l,"class",a),A[0]&12&&q(l,"border-transparent",e[2]!==e[39]),A[0]&1&&h(t,"contenteditable",e[0])},d(k){k&&B(t),c&&c.d(),r=!1,d()}}}function ee(s,e){let t,l=[],n=new Map,o,f=e[35];const _=a=>a[39];for(let a=0;a<f.length;a+=1){let r=P(e,f,a),d=_(r);n.set(d,l[a]=$(d,r))}return{key:s,first:null,c(){t=L("tr");for(let a=0;a<l.length;a+=1)l[a].c();o=C(),h(t,"class","group border-b last:border-none divide-x dark:divide-gray-800 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white"),this.first=t},m(a,r){z(a,t,r);for(let d=0;d<l.length;d+=1)l[d].m(t,null);v(t,o)},p(a,r){e=a,r[0]&31&&(f=e[35],l=F(l,r,_,1,e,f,n,t,Y,$,o,P))},d(a){a&&B(t);for(let r=0;r<l.length;r+=1)l[r].d()}}}function te(s){let e,t,l,n,o,f;return{c(){e=L("div"),t=L("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"></path></svg>New row',l=C(),n=L("button"),n.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"></path></svg>
			New column`,h(t,"class","!flex-none gr-button group"),h(n,"class","!flex-none gr-button group"),h(e,"class","flex justify-end space-x-1 pt-2 text-gray-800")},m(_,a){z(_,e,a),v(e,t),v(e,l),v(e,n),o||(f=[N(t,"click",s[9]),N(n,"click",s[10])],o=!0)},p:R,d(_){_&&B(e),o=!1,E(f)}}}function ve(s){let e,t,l,n,o=[],f=new Map,_,a,r=[],d=new Map,c,H,T=s[5];const k=u=>u[39];for(let u=0;u<T.length;u+=1){let g=W(s,T,u),M=k(g);f.set(M,o[u]=X(M,g))}let A=s[3];const p=u=>u[35];for(let u=0;u<A.length;u+=1){let g=K(s,A,u),M=p(g);d.set(M,r[u]=ee(M,g))}let y=s[0]&&te(s);return{c(){e=L("div"),t=L("table"),l=L("thead"),n=L("tr");for(let u=0;u<o.length;u+=1)o[u].c();_=C(),a=L("tbody");for(let u=0;u<r.length;u+=1)r[u].c();c=C(),y&&y.c(),H=pe(),h(n,"class","border-b divide-x dark:divide-gray-800 text-left"),h(l,"class","sticky top-0 left-0 right-0 bg-white shadow-sm z-10"),h(a,"class","overflow-scroll"),h(t,"class","table-auto font-mono w-full text-gray-900 text-sm"),h(e,"class","overflow-hidden rounded-lg relative border")},m(u,g){z(u,e,g),v(e,t),v(t,l),v(l,n);for(let M=0;M<o.length;M+=1)o[M].m(n,null);v(t,_),v(t,a);for(let M=0;M<r.length;M+=1)r[M].m(a,null);z(u,c,g),y&&y.m(u,g),z(u,H,g)},p(u,g){g[0]&481&&(T=u[5],o=F(o,g,k,1,u,T,f,n,Y,X,null,W)),g[0]&31&&(A=u[3],r=F(r,g,p,1,u,A,d,a,Y,ee,null,K)),u[0]?y?y.p(u,g):(y=te(u),y.c(),y.m(H.parentNode,H)):y&&(y.d(1),y=null)},i:R,o:R,d(u){u&&B(e);for(let g=0;g<o.length;g+=1)o[g].d();for(let g=0;g<r.length;g+=1)r[g].d();u&&B(c),y&&y.d(u),u&&B(H)}}}function le(s,e){return e?s.every((t,l)=>Array.isArray(t)?t.every((n,o)=>{var f;return n===((f=e==null?void 0:e[l])==null?void 0:f[o])}):t===(e==null?void 0:e[l])):!1}const ke=({currentTarget:s})=>s.setAttribute("tabindex","-1");function Ae(s,e,t){let{headers:l=[]}=e,{values:n=[[]]}=e,{style:o=""}=e,{editable:f=!0}=e;const _=ie();let a=!1,r=!1,d={};function c(i){return!i||i.length===0?n[0].map((m,b)=>{const w=`h-${b}`;return t(4,d[w]={cell:null,input:null},d),{id:w,value:JSON.stringify(b+1)}}):i.map((m,b)=>{const w=`h-${b}`;return t(4,d[w]={cell:null,input:null},d),{id:w,value:m}})}function H(i){return i.map((m,b)=>m.map((w,D)=>{const S=`${b}-${D}`;return t(4,d[S]={input:null,cell:null},d),{value:w,id:S}}))||[Array(l.length).fill(0).map((m,b)=>{const w=`0-${b}`;return t(4,d[w]={input:null,cell:null},d),{value:"",id:`0-${b}`}})]}let T=c(l),k;async function A(){}let p=[[]],y;async function u(i,m){var b,w,D;if(m==="edit"&&typeof i=="number"&&(await j(),(b=d[i].input)==null||b.focus()),m==="edit"&&typeof i=="boolean"&&typeof r=="number"){let S=(w=d[r])==null?void 0:w.cell;await j(),S==null||S.focus()}if(m==="select"&&typeof i=="number"){const{cell:S}=d[i];S==null||S.setAttribute("tabindex","0"),await j(),(D=d[i].cell)==null||D.focus()}}let g,M;function oe(i,m){m==="asc"?t(3,p=p.sort((b,w)=>b[i].value<w[i].value?-1:1)):m==="des"&&t(3,p=p.sort((b,w)=>b[i].value>w[i].value?-1:1))}function J(i){typeof M!="number"||M!==i?(t(6,g="asc"),t(7,M=i)):g==="asc"?t(6,g="des"):g==="des"&&t(6,g="asc"),oe(i,g)}async function fe(i,m){var b,w;!f||(await j(),(b=d[i].input)==null||b.focus(),m&&((w=d[i].input)==null||w.select()))}function de(){p.push(l.map((i,m)=>{const b=`${p.length}-${m}`;return t(4,d[b]={cell:null,input:null},d),{id:b,value:""}})),t(3,p),t(12,n),t(15,y)}async function ce(){for(let m=0;m<p.length;m++){const b=`${m}-${p[m].length}`;t(4,d[b]={cell:null,input:null},d),p[m].push({id:b,value:""})}const i=`h-${l.length}`;t(4,d[i]={cell:null,input:null},d),T.push({id:i,value:`Header ${T.length+1}`}),t(3,p),t(12,n),t(15,y),t(5,T),t(11,l),t(14,k),await j(),fe(i,!0)}const ge=(i,m,b,w)=>t(5,m[b].value=w.target.innerText,T),he=i=>J(i);function _e(i,m){i[m].value=this.value,t(3,p),t(12,n),t(15,y)}function me(i,m){ye[i?"unshift":"push"](()=>{d[m].input=i,t(4,d)})}const be=(i,m,b,w)=>t(3,m[b].value=w.target.innerText,p);return s.$$set=i=>{"headers"in i&&t(11,l=i.headers),"values"in i&&t(12,n=i.values),"style"in i&&t(13,o=i.style),"editable"in i&&t(0,f=i.editable)},s.$$.update=()=>{s.$$.dirty[0]&18432&&(le(l,k)||(t(5,T=c(l)),t(14,k=l),A())),s.$$.dirty[0]&36864&&(le(n,y)||(t(3,p=H(n)),t(15,y=n),A())),s.$$.dirty[0]&8&&_("change",p.map(i=>i.map(({value:m})=>m))),s.$$.dirty[0]&2&&u(a,"edit"),s.$$.dirty[0]&4&&u(r,"select")},[f,a,r,p,d,T,g,M,J,de,ce,l,n,o,k,y,ge,he,_e,me,be]}class Me extends ne{constructor(e){super(),se(this,e,Ae,ve,re,{headers:11,values:12,style:13,editable:0},null,[-1,-1])}}function Le(s){let e,t,l,n,o;return t=new we({props:{tracked_status:s[4]}}),n=new Me({props:{values:s[1],headers:s[0],style:s[2],editable:s[3]==="dynamic"}}),n.$on("change",s[5]),{c(){e=L("div"),U(t.$$.fragment),l=C(),U(n.$$.fragment),h(e,"class","relative")},m(f,_){z(f,e,_),V(t,e,null),v(e,l),V(n,e,null),o=!0},p(f,[_]){const a={};_&16&&(a.tracked_status=f[4]),t.$set(a);const r={};_&2&&(r.values=f[1]),_&1&&(r.headers=f[0]),_&4&&(r.style=f[2]),_&8&&(r.editable=f[3]==="dynamic"),n.$set(r)},i(f){o||(Z(t.$$.fragment,f),Z(n.$$.fragment,f),o=!0)},o(f){G(t.$$.fragment,f),G(n.$$.fragment,f),o=!1},d(f){f&&B(e),I(t),I(n)}}}function Te(s,e,t){let{headers:l=[]}=e,{value:n=[["","",""]]}=e,{default_value:o=[["","",""]]}=e,{style:f=""}=e,{mode:_}=e;o&&(n=o);const a=ie();let{loading_status:r}=e;async function d({detail:c}){t(1,n=c),await j(),a("change",c)}return s.$$set=c=>{"headers"in c&&t(0,l=c.headers),"value"in c&&t(1,n=c.value),"default_value"in c&&t(6,o=c.default_value),"style"in c&&t(2,f=c.style),"mode"in c&&t(3,_=c.mode),"loading_status"in c&&t(4,r=c.loading_status)},s.$$.update=()=>{s.$$.dirty&3&&(Array.isArray(n)?(t(1,n),t(0,l)):(Array.isArray(n.headers)&&t(0,l=n.headers),t(1,n=n.data.length===0?[Array(l.length).fill("")]:n.data)))},[l,n,f,_,r,d,o]}class He extends ne{constructor(e){super(),se(this,e,Te,Le,re,{headers:0,value:1,default_value:6,style:2,mode:3,loading_status:4})}}var Be=He;const Ce=["static","dynamic"];export{Be as Component,Ce as modes};
