import{S as H,i as K,s as L,o as B,k as q,j as U,q as V,b,x as P,v as k,y as T,u as h,w as z,h as g,z as J,D as y,e as N,d as j,a as m,f as w,g as I,F as M,l as D,r as O,n as Q,B as Y,H as Z,E as x,I as $,X as ee}from"./index.48448e6d.js";import{B as le}from"./Block.20c015b6.js";import{n as te}from"./utils.49185b04.js";import{U as ne}from"./Upload.254f1897.js";import{M as ae}from"./ModifyUpload.dcc91944.js";import{B as R}from"./BlockLabel.41c28e38.js";import{W as oe}from"./Image.svelte_svelte_type_style_lang.6e413de3.js";import{S as ie}from"./StatusTracker.e2c3be5c.js";import"./_commonjsHelpers.80d8c10d.js";const A=n=>{let e=["B","KB","MB","GB","PB"],t=0;for(;n>1024;)n/=1024,t++;let l=e[t];return n.toFixed(1)+" "+l},re=n=>!0;var X="./assets/video.5c567403.svg";function ue(n){let e,t,l,a,i;e=new ae({}),e.$on("clear",n[9]);function u(f,r){if(r&1&&(l=null),l==null&&(l=!!re(f[0].name)),l)return ce;if(f[0].size)return se}let c=u(n,-1),o=c&&c(n);return{c(){B(e.$$.fragment),t=q(),o&&o.c(),a=U()},m(f,r){V(e,f,r),b(f,t,r),o&&o.m(f,r),b(f,a,r),i=!0},p(f,r){c===(c=u(f,r))&&o?o.p(f,r):(o&&o.d(1),o=c&&c(f),o&&(o.c(),o.m(a.parentNode,a)))},i(f){i||(h(e.$$.fragment,f),i=!0)},o(f){k(e.$$.fragment,f),i=!1},d(f){z(e,f),f&&g(t),o&&o.d(f),f&&g(a)}}}function fe(n){let e,t,l,a;const i=[de,_e],u=[];function c(o,f){return o[1]==="upload"?0:o[1]==="webcam"?1:-1}return~(e=c(n))&&(t=u[e]=i[e](n)),{c(){t&&t.c(),l=U()},m(o,f){~e&&u[e].m(o,f),b(o,l,f),a=!0},p(o,f){let r=e;e=c(o),e===r?~e&&u[e].p(o,f):(t&&(P(),k(u[r],1,1,()=>{u[r]=null}),T()),~e?(t=u[e],t?t.p(o,f):(t=u[e]=i[e](o),t.c()),h(t,1),t.m(l.parentNode,l)):t=null)},i(o){a||(h(t),a=!0)},o(o){k(t),a=!1},d(o){~e&&u[e].d(o),o&&g(l)}}}function se(n){let e,t=n[0].name+"",l,a,i,u=A(n[0].size)+"",c;return{c(){e=N("div"),l=j(t),a=q(),i=N("div"),c=j(u),m(e,"class","file-name text-4xl p-6 break-all"),m(i,"class","file-size text-2xl p-2")},m(o,f){b(o,e,f),w(e,l),b(o,a,f),b(o,i,f),w(i,c)},p(o,f){f&1&&t!==(t=o[0].name+"")&&I(l,t),f&1&&u!==(u=A(o[0].size)+"")&&I(c,u)},d(o){o&&g(e),o&&g(a),o&&g(i)}}}function ce(n){let e,t,l,a;return{c(){e=N("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),M(e.src,t=n[0].data)||m(e,"src",t)},m(i,u){b(i,e,u),l||(a=[D(e,"play",n[11]),D(e,"pause",n[12]),D(e,"ended",n[13])],l=!0)},p(i,u){u&1&&!M(e.src,t=i[0].data)&&m(e,"src",t)},d(i){i&&g(e),l=!1,O(a)}}}function _e(n){let e,t;return e=new oe({props:{mode:"video"}}),e.$on("capture",n[15]),{c(){B(e.$$.fragment)},m(l,a){V(e,l,a),t=!0},p:Q,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function de(n){let e,t,l;function a(u){n[14](u)}let i={filetype:"video/mp4,video/x-m4v,video/*",$$slots:{default:[me]},$$scope:{ctx:n}};return n[7]!==void 0&&(i.dragging=n[7]),e=new ne({props:i}),Y.push(()=>Z(e,"dragging",a)),e.$on("load",n[8]),{c(){B(e.$$.fragment)},m(u,c){V(e,u,c),l=!0},p(u,c){const o={};c&131184&&(o.$$scope={dirty:c,ctx:u}),!t&&c&128&&(t=!0,o.dragging=u[7],x(()=>t=!1)),e.$set(o)},i(u){l||(h(e.$$.fragment,u),l=!0)},o(u){k(e.$$.fragment,u),l=!1},d(u){z(e,u)}}}function me(n){let e,t,l,a,i,u,c,o,f;return{c(){e=N("div"),t=j(n[4]),l=q(),a=N("span"),i=j("- "),u=j(n[5]),c=j(" -"),o=q(),f=j(n[6]),m(a,"class","text-gray-300"),m(e,"class","flex flex-col")},m(r,s){b(r,e,s),w(e,t),w(e,l),w(e,a),w(a,i),w(a,u),w(a,c),w(e,o),w(e,f)},p(r,s){s&16&&I(t,r[4]),s&32&&I(u,r[5]),s&64&&I(f,r[6])},d(r){r&&g(e)}}}function be(n){let e,t,l,a,i,u;e=new R({props:{show_label:n[3],image:X,label:n[2]||"Video"}});const c=[fe,ue],o=[];function f(r,s){return r[0]===null?0:1}return l=f(n),a=o[l]=c[l](n),{c(){B(e.$$.fragment),t=q(),a.c(),i=U()},m(r,s){V(e,r,s),b(r,t,s),o[l].m(r,s),b(r,i,s),u=!0},p(r,[s]){const v={};s&8&&(v.show_label=r[3]),s&4&&(v.label=r[2]||"Video"),e.$set(v);let p=l;l=f(r),l===p?o[l].p(r,s):(P(),k(o[p],1,1,()=>{o[p]=null}),T(),a=o[l],a?a.p(r,s):(a=o[l]=c[l](r),a.c()),h(a,1),a.m(i.parentNode,i))},i(r){u||(h(e.$$.fragment,r),h(a),u=!0)},o(r){k(e.$$.fragment,r),k(a),u=!1},d(r){z(e,r),r&&g(t),o[l].d(r),r&&g(i)}}}function ge(n,e,t){let{value:l=null}=e,{source:a}=e,{label:i=void 0}=e,{style:u=""}=e,{show_label:c}=e,{drop_text:o="Drop a video file"}=e,{or_text:f="or"}=e,{upload_text:r="click to upload"}=e;const s=J();function v({detail:_}){s("change",_),t(0,l=_)}function p({detail:_}){t(0,l=null),s("change",_),s("clear")}let S=!1;function C(_){y.call(this,n,_)}function E(_){y.call(this,n,_)}function F(_){y.call(this,n,_)}function W(_){S=_,t(7,S)}const G=({detail:_})=>t(0,l=_);return n.$$set=_=>{"value"in _&&t(0,l=_.value),"source"in _&&t(1,a=_.source),"label"in _&&t(2,i=_.label),"style"in _&&t(10,u=_.style),"show_label"in _&&t(3,c=_.show_label),"drop_text"in _&&t(4,o=_.drop_text),"or_text"in _&&t(5,f=_.or_text),"upload_text"in _&&t(6,r=_.upload_text)},n.$$.update=()=>{n.$$.dirty&128&&s("drag",S)},[l,a,i,c,o,f,r,S,v,p,u,C,E,F,W,G]}class ke extends H{constructor(e){super(),K(this,e,ge,be,L,{value:0,source:1,label:2,style:10,show_label:3,drop_text:4,or_text:5,upload_text:6})}}function he(n){let e,t,l,a;return{c(){e=N("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),M(e.src,t=n[0].data)||m(e,"src",t)},m(i,u){b(i,e,u),l||(a=[D(e,"play",n[4]),D(e,"pause",n[5]),D(e,"ended",n[6])],l=!0)},p(i,u){u&1&&!M(e.src,t=i[0].data)&&m(e,"src",t)},d(i){i&&g(e),l=!1,O(a)}}}function pe(n){let e,t,l;return{c(){e=N("div"),t=N("img"),M(t.src,l=X)||m(t,"src",l),m(t,"alt",""),m(t,"class","h-6 opacity-20"),m(e,"class","min-h-[16rem] flex justify-center items-center")},m(a,i){b(a,e,i),w(e,t)},p:Q,d(a){a&&g(e)}}}function ve(n){let e,t,l,a;e=new R({props:{show_label:n[2],image:X,label:n[1]||"Video"}});function i(o,f){return o[0]===null?pe:he}let u=i(n),c=u(n);return{c(){B(e.$$.fragment),t=q(),c.c(),l=U()},m(o,f){V(e,o,f),b(o,t,f),c.m(o,f),b(o,l,f),a=!0},p(o,[f]){const r={};f&4&&(r.show_label=o[2]),f&2&&(r.label=o[1]||"Video"),e.$set(r),u===(u=i(o))&&c?c.p(o,f):(c.d(1),c=u(o),c&&(c.c(),c.m(l.parentNode,l)))},i(o){a||(h(e.$$.fragment,o),a=!0)},o(o){k(e.$$.fragment,o),a=!1},d(o){z(e,o),o&&g(t),c.d(o),o&&g(l)}}}function we(n,e,t){let{value:l=null}=e,{label:a=void 0}=e,{style:i=""}=e,{show_label:u}=e;const c=J();function o(s){y.call(this,n,s)}function f(s){y.call(this,n,s)}function r(s){y.call(this,n,s)}return n.$$set=s=>{"value"in s&&t(0,l=s.value),"label"in s&&t(1,a=s.label),"style"in s&&t(3,i=s.style),"show_label"in s&&t(2,u=s.show_label)},n.$$.update=()=>{n.$$.dirty&1&&l&&c("change",l)},[l,a,u,i,o,f,r]}class ye extends H{constructor(e){super(),K(this,e,we,ve,L,{value:0,label:1,style:3,show_label:2})}}function Be(n){let e,t;return e=new ke({props:{value:n[7],label:n[1],show_label:n[4],style:n[2],source:n[3],drop_text:n[9]("interface.drop_video"),or_text:n[9]("or"),upload_text:n[9]("interface.click_to_upload")}}),e.$on("change",n[12]),e.$on("drag",n[13]),e.$on("change",n[14]),e.$on("clear",n[15]),e.$on("play",n[16]),e.$on("pause",n[17]),{c(){B(e.$$.fragment)},m(l,a){V(e,l,a),t=!0},p(l,a){const i={};a&128&&(i.value=l[7]),a&2&&(i.label=l[1]),a&16&&(i.show_label=l[4]),a&4&&(i.style=l[2]),a&8&&(i.source=l[3]),a&512&&(i.drop_text=l[9]("interface.drop_video")),a&512&&(i.or_text=l[9]("or")),a&512&&(i.upload_text=l[9]("interface.click_to_upload")),e.$set(i)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ve(n){let e,t;return e=new ye({props:{value:n[7],label:n[1],show_label:n[4],style:n[2]}}),{c(){B(e.$$.fragment)},m(l,a){V(e,l,a),t=!0},p(l,a){const i={};a&128&&(i.value=l[7]),a&2&&(i.label=l[1]),a&16&&(i.show_label=l[4]),a&4&&(i.style=l[2]),e.$set(i)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ze(n){let e,t,l,a,i,u;e=new ie({props:{tracked_status:n[5]}});const c=[Ve,Be],o=[];function f(r,s){return r[6]==="static"?0:1}return l=f(n),a=o[l]=c[l](n),{c(){B(e.$$.fragment),t=q(),a.c(),i=U()},m(r,s){V(e,r,s),b(r,t,s),o[l].m(r,s),b(r,i,s),u=!0},p(r,s){const v={};s&32&&(v.tracked_status=r[5]),e.$set(v);let p=l;l=f(r),l===p?o[l].p(r,s):(P(),k(o[p],1,1,()=>{o[p]=null}),T(),a=o[l],a?a.p(r,s):(a=o[l]=c[l](r),a.c()),h(a,1),a.m(i.parentNode,i))},i(r){u||(h(e.$$.fragment,r),h(a),u=!0)},o(r){k(e.$$.fragment,r),k(a),u=!1},d(r){z(e,r),r&&g(t),o[l].d(r),r&&g(i)}}}function Ne(n){let e,t;return e=new le({props:{variant:n[6]==="dynamic"&&n[0]===null&&n[3]==="upload"?"dashed":"solid",color:n[8]?"green":"grey",padding:!1,$$slots:{default:[ze]},$$scope:{ctx:n}}}),{c(){B(e.$$.fragment)},m(l,a){V(e,l,a),t=!0},p(l,[a]){const i={};a&73&&(i.variant=l[6]==="dynamic"&&l[0]===null&&l[3]==="upload"?"dashed":"solid"),a&256&&(i.color=l[8]?"green":"grey"),a&263167&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Se(n,e,t){let l;$(n,ee,d=>t(9,l=d));let{value:a=null}=e,{label:i}=e,{default_value:u}=e,{style:c=""}=e,{source:o}=e,{root:f}=e,{show_label:r}=e,{loading_status:s}=e,{mode:v}=e;u&&(a=u);let p,S=!1;const C=({detail:d})=>t(0,a=d),E=({detail:d})=>t(8,S=d);function F(d){y.call(this,n,d)}function W(d){y.call(this,n,d)}function G(d){y.call(this,n,d)}function _(d){y.call(this,n,d)}return n.$$set=d=>{"value"in d&&t(0,a=d.value),"label"in d&&t(1,i=d.label),"default_value"in d&&t(10,u=d.default_value),"style"in d&&t(2,c=d.style),"source"in d&&t(3,o=d.source),"root"in d&&t(11,f=d.root),"show_label"in d&&t(4,r=d.show_label),"loading_status"in d&&t(5,s=d.loading_status),"mode"in d&&t(6,v=d.mode)},n.$$.update=()=>{n.$$.dirty&2049&&t(7,p=te(a,f))},[a,i,c,o,r,s,v,p,S,l,u,f,C,E,F,W,G,_]}class je extends H{constructor(e){super(),K(this,e,Se,Ne,L,{value:0,label:1,default_value:10,style:2,source:3,root:11,show_label:4,loading_status:5,mode:6})}}var Ge=je;const He=["static","dynamic"];export{Ge as Component,He as modes};
