Metadata-Version: 2.1
Name: thk-django-base
Version: 0.1.1
Summary: Based on django, three-kinds style components.
Home-page: https://gitee.com/three-kinds/thk-django-base
Author: three-kinds
Author-email: 3179158552@qq.com
License: Apache 2.0
Project-URL: Documentation, https://gitee.com/three-kinds/thk-django-base
Project-URL: Source, https://gitee.com/three-kinds/thk-django-base
Platform: UNKNOWN
Classifier: Development Status :: 2 - Pre-Alpha
Classifier: Environment :: Web Environment
Classifier: Framework :: Django
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Internet :: WWW/HTTP
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE

# thk-django-base

Based on django, three-kinds style components.

[History](HISTORY.md)

## Components

### 1. redis

#### 1.1 settings

```python
REDIS = {
    'default': {
        'type': 'standalone',
        'init': {
            'host': 'redis-node-0.redis-headless',
            'port': 6379,
            'db': 0,
            'password': "12345",
            'decode_responses': True
        }
    },
    'sentinel': {
        'type': 'sentinel',
        'init': {
            'sentinels': [
                ('redis-node-0.redis-headless', 26379),
                ('redis-node-1.redis-headless', 26379),
                ('redis-node-2.redis-headless', 26379)
            ],
            'sentinel_kwargs': {
                'password': '12345'
            },
            'password': '12345',
            'db': 1,
            'decode_responses': True,
        },
        'node': {
            'service_name': 'mymaster'
        }
    }
}

```

#### 1.2 usage

```python
from thk_django_base.redis.structures import List
from thk_django_base.redis import RedisFactory

l = List(main_key="l", rdb=RedisFactory.get_rdb("sentinel"))
l.left_push([1, 2, 3], need_exists=True)

```

### 2. natural key

#### 2.1 settings(optional)

```python
NATURAL_KEY = {
    "increment_main_key": "natural_key",
    "random_bit_length": 15,
    "puzzle_count": 100000,
    "redis": "default"
}

```

#### 2.2 usage

```python
from django.db import models
from thk_django_base.model import NKModel


class Book(NKModel):
    name = models.CharField(max_length=32, db_index=True)

```


### 3. others

* field_utils: PathWithIDName
* validators: FileMaxSizeValidator


